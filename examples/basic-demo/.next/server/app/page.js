(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3833:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(5480),r(2029),r(5866);var n=r(3191),s=r(8716),a=r(7922),i=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"/Users/oblet/Documents/GitHub/autoui-react/examples/basic-demo/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/oblet/Documents/GitHub/autoui-react/examples/basic-demo/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/oblet/Documents/GitHub/autoui-react/examples/basic-demo/src/app/page.tsx"],c="/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8725:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},775:()=>{},5179:(e,t,r)=>{Promise.resolve().then(r.bind(r,1312))},1312:(e,t,r)=>{"use strict";let n,s,a;r.r(t),r.d(t,{default:()=>s6});var i,o,l,d,u,c,p,m,h,f,g,y,v,b,_,x,w,k,T=r(326);function E(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n)}return s}(e))&&(n&&(n+=" "),n+=t);return n}let j=e=>{let t=C(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),N(r,t)||S(e)},getConflictingClassGroupIds:(e,t)=>{let s=r[e]||[];return t&&n[e]?[...s,...n[e]]:s}}},N=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),s=n?N(e.slice(1),n):void 0;if(s)return s;if(0===t.validators.length)return;let a=e.join("-");return t.validators.find(({validator:e})=>e(a))?.classGroupId},I=/^\[(.+)\]$/,S=e=>{if(I.test(e)){let t=I.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},C=e=>{let{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(let e in r)O(r[e],n,e,t);return n},O=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:A(t,e)).classGroupId=r;return}if("function"==typeof e){if(R(e)){O(e(n),t,r,n);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,s])=>{O(s,A(t,e),r,n)})})},A=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},R=e=>e.isThemeGetter,P=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,s=(s,a)=>{r.set(s,a),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):s(e,t)}}},$=e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t;let r=[],n=0,s=0,a=0;for(let i=0;i<e.length;i++){let o=e[i];if(0===n&&0===s){if(":"===o){r.push(e.slice(a,i)),a=i+1;continue}if("/"===o){t=i;continue}}"["===o?n++:"]"===o?n--:"("===o?s++:")"===o&&s--}let i=0===r.length?e:e.substring(a),o=Z(i);return{modifiers:r,hasImportantModifier:o!==i,baseClassName:o,maybePostfixModifierPosition:t&&t>a?t-a:void 0}};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n},Z=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,M=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;let r=[],n=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...n.sort(),e),n=[]):n.push(e)}),r.push(...n.sort()),r}},D=e=>({cache:P(e.cacheSize),parseClassName:$(e),sortModifiers:M(e),...j(e)}),L=/\s+/,U=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=t,i=[],o=e.trim().split(L),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:d,modifiers:u,hasImportantModifier:c,baseClassName:p,maybePostfixModifierPosition:m}=r(t);if(d){l=t+(l.length>0?" "+l:l);continue}let h=!!m,f=n(h?p.substring(0,m):p);if(!f){if(!h||!(f=n(p))){l=t+(l.length>0?" "+l:l);continue}h=!1}let g=a(u).join(":"),y=c?g+"!":g,v=y+f;if(i.includes(v))continue;i.push(v);let b=s(f,h);for(let e=0;e<b.length;++e){let t=b[e];i.push(y+t)}l=t+(l.length>0?" "+l:l)}return l};function z(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=F(e))&&(n&&(n+=" "),n+=t);return n}let F=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=F(e[n]))&&(r&&(r+=" "),r+=t);return r},V=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},q=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,B=/^\((?:(\w[\w-]*):)?(.+)\)$/i,G=/^\d+\/\d+$/,H=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,X=e=>G.test(e),Q=e=>!!e&&!Number.isNaN(Number(e)),ee=e=>!!e&&Number.isInteger(Number(e)),et=e=>e.endsWith("%")&&Q(e.slice(0,-1)),er=e=>H.test(e),en=()=>!0,es=e=>K.test(e)&&!W.test(e),ea=()=>!1,ei=e=>J.test(e),eo=e=>Y.test(e),el=e=>!eu(e)&&!eg(e),ed=e=>ek(e,eN,ea),eu=e=>q.test(e),ec=e=>ek(e,eI,es),ep=e=>ek(e,eS,Q),em=e=>ek(e,eE,ea),eh=e=>ek(e,ej,eo),ef=e=>ek(e,eO,ei),eg=e=>B.test(e),ey=e=>eT(e,eI),ev=e=>eT(e,eC),eb=e=>eT(e,eE),e_=e=>eT(e,eN),ex=e=>eT(e,ej),ew=e=>eT(e,eO,!0),ek=(e,t,r)=>{let n=q.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},eT=(e,t,r=!1)=>{let n=B.exec(e);return!!n&&(n[1]?t(n[1]):r)},eE=e=>"position"===e||"percentage"===e,ej=e=>"image"===e||"url"===e,eN=e=>"length"===e||"size"===e||"bg-size"===e,eI=e=>"length"===e,eS=e=>"number"===e,eC=e=>"family-name"===e,eO=e=>"shadow"===e;Symbol.toStringTag;let eA=function(e,...t){let r,n,s;let a=function(o){return n=(r=D(t.reduce((e,t)=>t(e),e()))).cache.get,s=r.cache.set,a=i,i(o)};function i(e){let t=n(e);if(t)return t;let a=U(e,r);return s(e,a),a}return function(){return a(z.apply(null,arguments))}}(()=>{let e=V("color"),t=V("font"),r=V("text"),n=V("font-weight"),s=V("tracking"),a=V("leading"),i=V("breakpoint"),o=V("container"),l=V("spacing"),d=V("radius"),u=V("shadow"),c=V("inset-shadow"),p=V("text-shadow"),m=V("drop-shadow"),h=V("blur"),f=V("perspective"),g=V("aspect"),y=V("ease"),v=V("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],x=()=>[..._(),eg,eu],w=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],T=()=>[eg,eu,l],E=()=>[X,"full","auto",...T()],j=()=>[ee,"none","subgrid",eg,eu],N=()=>["auto",{span:["full",ee,eg,eu]},ee,eg,eu],I=()=>[ee,"auto",eg,eu],S=()=>["auto","min","max","fr",eg,eu],C=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...T()],R=()=>[X,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],P=()=>[e,eg,eu],$=()=>[..._(),eb,em,{position:[eg,eu]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",e_,ed,{size:[eg,eu]}],D=()=>[et,ey,ec],L=()=>["","none","full",d,eg,eu],U=()=>["",Q,ey,ec],z=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[Q,et,eb,em],B=()=>["","none",h,eg,eu],G=()=>["none",Q,eg,eu],H=()=>["none",Q,eg,eu],K=()=>[Q,eg,eu],W=()=>[X,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[er],breakpoint:[er],color:[en],container:[er],"drop-shadow":[er],ease:["in","out","in-out"],font:[el],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[er],shadow:[er],spacing:["px",Q],text:[er],"text-shadow":[er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",X,eu,eg,g]}],container:["container"],columns:[{columns:[Q,eu,eg,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[ee,"auto",eg,eu]}],basis:[{basis:[X,"full","auto",o,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Q,X,"auto","initial","none",eu]}],grow:[{grow:["",Q,eg,eu]}],shrink:[{shrink:["",Q,eg,eu]}],order:[{order:[ee,"first","last","none",eg,eu]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...C(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...C()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":C()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[o,"screen",...R()]}],"min-w":[{"min-w":[o,"screen","none",...R()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...R()]}],h:[{h:["screen",...R()]}],"min-h":[{"min-h":["screen","none",...R()]}],"max-h":[{"max-h":["screen",...R()]}],"font-size":[{text:["base",r,ey,ec]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,eg,ep]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",et,eu]}],"font-family":[{font:[ev,eu,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,eg,eu]}],"line-clamp":[{"line-clamp":[Q,"none",eg,ep]}],leading:[{leading:[a,...T()]}],"list-image":[{"list-image":["none",eg,eu]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",eg,eu]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Q,"from-font","auto",eg,ec]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Q,"auto",eg,eu]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",eg,eu]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",eg,eu]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ee,eg,eu],radial:["",eg,eu],conic:[ee,eg,eu]},ex,eh]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Q,eg,eu]}],"outline-w":[{outline:["",Q,ey,ec]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,ew,ef]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",c,ew,ef]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Q,ec]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",p,ew,ef]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Q,eg,eu]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Q]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[eg,eu]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Q]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",eg,eu]}],filter:[{filter:["","none",eg,eu]}],blur:[{blur:B()}],brightness:[{brightness:[Q,eg,eu]}],contrast:[{contrast:[Q,eg,eu]}],"drop-shadow":[{"drop-shadow":["","none",m,ew,ef]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Q,eg,eu]}],"hue-rotate":[{"hue-rotate":[Q,eg,eu]}],invert:[{invert:["",Q,eg,eu]}],saturate:[{saturate:[Q,eg,eu]}],sepia:[{sepia:["",Q,eg,eu]}],"backdrop-filter":[{"backdrop-filter":["","none",eg,eu]}],"backdrop-blur":[{"backdrop-blur":B()}],"backdrop-brightness":[{"backdrop-brightness":[Q,eg,eu]}],"backdrop-contrast":[{"backdrop-contrast":[Q,eg,eu]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Q,eg,eu]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Q,eg,eu]}],"backdrop-invert":[{"backdrop-invert":["",Q,eg,eu]}],"backdrop-opacity":[{"backdrop-opacity":[Q,eg,eu]}],"backdrop-saturate":[{"backdrop-saturate":[Q,eg,eu]}],"backdrop-sepia":[{"backdrop-sepia":["",Q,eg,eu]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",eg,eu]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Q,"initial",eg,eu]}],ease:[{ease:["linear","initial",y,eg,eu]}],delay:[{delay:[Q,eg,eu]}],animate:[{animate:["none",v,eg,eu]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,eg,eu]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[eg,eu,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",eg,eu]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",eg,eu]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Q,ey,ec,ep]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});var eR=r(7577);function eP(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var e$=function(e){let t=function(e){let t=eR.forwardRef((e,t)=>{let r,n;let{children:s,...a}=e,i=function(...e){return eR.useCallback(function(...e){return t=>{let r=!1,n=e.map(e=>{let n=eP(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():eP(e[t],null)}}}}(...e),e)}(eR.isValidElement(s)?(r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?s.ref:(r=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?s.props.ref:s.props.ref||s.ref:void 0,t);if(eR.isValidElement(s)){let e=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(a,s.props);return s.type!==eR.Fragment&&(e.ref=i),eR.cloneElement(s,e)}return eR.Children.count(s)>1?eR.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=eR.forwardRef((e,r)=>{let{children:n,...s}=e,a=eR.Children.toArray(n),i=a.find(eM);if(i){let e=i.props.children,n=a.map(t=>t!==i?t:eR.Children.count(e)>1?eR.Children.only(null):eR.isValidElement(e)?e.props.children:null);return(0,T.jsx)(t,{...s,ref:r,children:eR.isValidElement(e)?eR.cloneElement(e,void 0,n):null})}return(0,T.jsx)(t,{...s,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),eZ=Symbol("radix.slottable");function eM(e){return eR.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===eZ}let eD=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,eL=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return E(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let i=eD(t)||eD(n);return s[e][i]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return E(e,i,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...o}[t]):({...a,...o})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};(function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t})(i||(i={})),(o||(o={})).mergeShapes=(e,t)=>({...e,...t});let eU=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ez=e=>{switch(typeof e){case"undefined":return eU.undefined;case"string":return eU.string;case"number":return isNaN(e)?eU.nan:eU.number;case"boolean":return eU.boolean;case"function":return eU.function;case"bigint":return eU.bigint;case"symbol":return eU.symbol;case"object":if(Array.isArray(e))return eU.array;if(null===e)return eU.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eU.promise;if("undefined"!=typeof Map&&e instanceof Map)return eU.map;if("undefined"!=typeof Set&&e instanceof Set)return eU.set;if("undefined"!=typeof Date&&e instanceof Date)return eU.date;return eU.object;default:return eU.unknown}},eF=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class eV extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(n);else if("invalid_return_type"===s.code)n(s.returnTypeError);else if("invalid_arguments"===s.code)n(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,n=0;for(;n<s.path.length;){let r=s.path[n];n===s.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof eV))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}eV.create=e=>new eV(e);let eq=(e,t)=>{let r;switch(e.code){case eF.invalid_type:r=e.received===eU.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case eF.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.jsonStringifyReplacer)}`;break;case eF.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.joinValues(e.keys,", ")}`;break;case eF.invalid_union:r="Invalid input";break;case eF.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.joinValues(e.options)}`;break;case eF.invalid_enum_value:r=`Invalid enum value. Expected ${i.joinValues(e.options)}, received '${e.received}'`;break;case eF.invalid_arguments:r="Invalid function arguments";break;case eF.invalid_return_type:r="Invalid function return type";break;case eF.invalid_date:r="Invalid date";break;case eF.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case eF.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case eF.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case eF.custom:r="Invalid input";break;case eF.invalid_intersection_types:r="Intersection results could not be merged";break;case eF.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case eF.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.assertNever(e)}return{message:r}},eB=eq;function eG(){return eB}let eH=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(void 0!==s.message)return{...s,path:a,message:s.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function eK(e,t){let r=eG(),n=eH({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===eq?void 0:eq].filter(e=>!!e)});e.common.issues.push(n)}class eW{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return eJ;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return eW.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:s}=n;if("aborted"===t.status||"aborted"===s.status)return eJ;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==s.value||n.alwaysSet)&&(r[t.value]=s.value)}return{status:e.value,value:r}}}let eJ=Object.freeze({status:"aborted"}),eY=e=>({status:"dirty",value:e}),eX=e=>({status:"valid",value:e}),eQ=e=>"aborted"===e.status,e0=e=>"dirty"===e.status,e1=e=>"valid"===e.status,e2=e=>"undefined"!=typeof Promise&&e instanceof Promise;function e4(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function e9(e,t,r,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(l||(l={}));class e3{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let e5=(e,t)=>{if(e1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new eV(e.common.issues);return this._error=t,this._error}}};function e6(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{var a,i;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:s.defaultError}:void 0===s.data?{message:null!==(a=null!=o?o:n)&&void 0!==a?a:s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:null!==(i=null!=o?o:r)&&void 0!==i?i:s.defaultError}},description:s}}class e7{get description(){return this._def.description}_getType(e){return ez(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ez(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eW,ctx:{common:e.parent.common,data:e.data,parsedType:ez(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(e2(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ez(e)},s=this._parseSync({data:e,path:n.path,parent:n});return e5(n,s)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ez(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return e1(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>e1(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ez(e)},n=this._parse({data:e,path:r.path,parent:r});return e5(r,await (e2(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let s=e(t),a=()=>n.addIssue({code:eF.custom,...r(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(a(),!1)):!!s||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new tG({schema:this,typeName:c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return tH.create(this,this._def)}nullable(){return tK.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tS.create(this)}promise(){return tB.create(this,this._def)}or(e){return tO.create([this,e],this._def)}and(e){return tP.create(this,e,this._def)}transform(e){return new tG({...e6(this._def),schema:this,typeName:c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tW({...e6(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:c.ZodDefault})}brand(){return new tQ({typeName:c.ZodBranded,type:this,...e6(this._def)})}catch(e){return new tJ({...e6(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:c.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return t0.create(this,e)}readonly(){return t1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let e8=/^c[^\s-]{8,}$/i,te=/^[0-9a-z]+$/,tt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tn=/^[a-z0-9_-]{21}$/i,ts=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ta=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ti=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,to=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,td=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tu=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tp=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",th=RegExp(`^${tm}$`);function tf(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function tg(e){let t=`${tm}T${tf(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class ty extends e7{_parse(e){var t,r,s,a;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eU.string){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.string,received:t.parsedType}),eJ}let l=new eW;for(let d of this._def.checks)if("min"===d.kind)e.data.length<d.value&&(eK(o=this._getOrReturnCtx(e,o),{code:eF.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if("max"===d.kind)e.data.length>d.value&&(eK(o=this._getOrReturnCtx(e,o),{code:eF.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if("length"===d.kind){let t=e.data.length>d.value,r=e.data.length<d.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?eK(o,{code:eF.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):r&&eK(o,{code:eF.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),l.dirty())}else if("email"===d.kind)ti.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"email",code:eF.invalid_string,message:d.message}),l.dirty());else if("emoji"===d.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:eF.invalid_string,message:d.message}),l.dirty());else if("uuid"===d.kind)tr.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:eF.invalid_string,message:d.message}),l.dirty());else if("nanoid"===d.kind)tn.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:eF.invalid_string,message:d.message}),l.dirty());else if("cuid"===d.kind)e8.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:eF.invalid_string,message:d.message}),l.dirty());else if("cuid2"===d.kind)te.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:eF.invalid_string,message:d.message}),l.dirty());else if("ulid"===d.kind)tt.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:eF.invalid_string,message:d.message}),l.dirty());else if("url"===d.kind)try{new URL(e.data)}catch(t){eK(o=this._getOrReturnCtx(e,o),{validation:"url",code:eF.invalid_string,message:d.message}),l.dirty()}else"regex"===d.kind?(d.regex.lastIndex=0,d.regex.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"regex",code:eF.invalid_string,message:d.message}),l.dirty())):"trim"===d.kind?e.data=e.data.trim():"includes"===d.kind?e.data.includes(d.value,d.position)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),l.dirty()):"toLowerCase"===d.kind?e.data=e.data.toLowerCase():"toUpperCase"===d.kind?e.data=e.data.toUpperCase():"startsWith"===d.kind?e.data.startsWith(d.value)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:{startsWith:d.value},message:d.message}),l.dirty()):"endsWith"===d.kind?e.data.endsWith(d.value)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:{endsWith:d.value},message:d.message}),l.dirty()):"datetime"===d.kind?tg(d).test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:"datetime",message:d.message}),l.dirty()):"date"===d.kind?th.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:"date",message:d.message}),l.dirty()):"time"===d.kind?RegExp(`^${tf(d)}$`).test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{code:eF.invalid_string,validation:"time",message:d.message}),l.dirty()):"duration"===d.kind?ta.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"duration",code:eF.invalid_string,message:d.message}),l.dirty()):"ip"===d.kind?(t=e.data,("v4"===(r=d.version)||!r)&&to.test(t)||("v6"===r||!r)&&td.test(t)||(eK(o=this._getOrReturnCtx(e,o),{validation:"ip",code:eF.invalid_string,message:d.message}),l.dirty())):"jwt"===d.kind?!function(e,t){if(!ts.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));if("object"!=typeof s||null===s||!s.typ||!s.alg||t&&s.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,d.alg)&&(eK(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:eF.invalid_string,message:d.message}),l.dirty()):"cidr"===d.kind?(s=e.data,("v4"===(a=d.version)||!a)&&tl.test(s)||("v6"===a||!a)&&tu.test(s)||(eK(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:eF.invalid_string,message:d.message}),l.dirty())):"base64"===d.kind?tc.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"base64",code:eF.invalid_string,message:d.message}),l.dirty()):"base64url"===d.kind?tp.test(e.data)||(eK(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:eF.invalid_string,message:d.message}),l.dirty()):i.assertNever(d);return{status:l.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:eF.invalid_string,...l.errToObj(r)})}_addCheck(e){return new ty({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...l.errToObj(e)})}url(e){return this._addCheck({kind:"url",...l.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...l.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...l.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...l.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...l.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...l.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...l.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...l.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...l.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...l.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...l.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...l.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...l.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...l.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...l.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...l.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...l.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...l.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...l.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...l.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...l.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...l.errToObj(t)})}nonempty(e){return this.min(1,l.errToObj(e))}trim(){return new ty({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ty({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ty({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ty.create=e=>{var t;return new ty({checks:[],typeName:c.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...e6(e)})};class tv extends e7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eU.number){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.number,received:t.parsedType}),eJ}let r=new eW;for(let n of this._def.checks)"int"===n.kind?i.isInteger(e.data)||(eK(t=this._getOrReturnCtx(e,t),{code:eF.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}(e.data,n.value)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(eK(t=this._getOrReturnCtx(e,t),{code:eF.not_finite,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,n){return new tv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(n)}]})}_addCheck(e){return new tv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:l.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:l.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}tv.create=e=>new tv({checks:[],typeName:c.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...e6(e)});class tb extends e7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==eU.bigint)return this._getInvalidInput(e);let r=new eW;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.bigint,received:t.parsedType}),eJ}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,n){return new tb({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(n)}]})}_addCheck(e){return new tb({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tb.create=e=>{var t;return new tb({checks:[],typeName:c.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...e6(e)})};class t_ extends e7{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eU.boolean){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.boolean,received:t.parsedType}),eJ}return eX(e.data)}}t_.create=e=>new t_({typeName:c.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...e6(e)});class tx extends e7{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eU.date){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.date,received:t.parsedType}),eJ}if(isNaN(e.data.getTime()))return eK(this._getOrReturnCtx(e),{code:eF.invalid_date}),eJ;let r=new eW;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(eK(t=this._getOrReturnCtx(e,t),{code:eF.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):i.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tx({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:l.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:l.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tx.create=e=>new tx({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:c.ZodDate,...e6(e)});class tw extends e7{_parse(e){if(this._getType(e)!==eU.symbol){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.symbol,received:t.parsedType}),eJ}return eX(e.data)}}tw.create=e=>new tw({typeName:c.ZodSymbol,...e6(e)});class tk extends e7{_parse(e){if(this._getType(e)!==eU.undefined){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.undefined,received:t.parsedType}),eJ}return eX(e.data)}}tk.create=e=>new tk({typeName:c.ZodUndefined,...e6(e)});class tT extends e7{_parse(e){if(this._getType(e)!==eU.null){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.null,received:t.parsedType}),eJ}return eX(e.data)}}tT.create=e=>new tT({typeName:c.ZodNull,...e6(e)});class tE extends e7{constructor(){super(...arguments),this._any=!0}_parse(e){return eX(e.data)}}tE.create=e=>new tE({typeName:c.ZodAny,...e6(e)});class tj extends e7{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eX(e.data)}}tj.create=e=>new tj({typeName:c.ZodUnknown,...e6(e)});class tN extends e7{_parse(e){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.never,received:t.parsedType}),eJ}}tN.create=e=>new tN({typeName:c.ZodNever,...e6(e)});class tI extends e7{_parse(e){if(this._getType(e)!==eU.undefined){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.void,received:t.parsedType}),eJ}return eX(e.data)}}tI.create=e=>new tI({typeName:c.ZodVoid,...e6(e)});class tS extends e7{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==eU.array)return eK(t,{code:eF.invalid_type,expected:eU.array,received:t.parsedType}),eJ;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,s=t.data.length<n.exactLength.value;(e||s)&&(eK(t,{code:e?eF.too_big:eF.too_small,minimum:s?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(eK(t,{code:eF.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(eK(t,{code:eF.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new e3(t,e,t.path,r)))).then(e=>eW.mergeArray(r,e));let s=[...t.data].map((e,r)=>n.type._parseSync(new e3(t,e,t.path,r)));return eW.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new tS({...this._def,minLength:{value:e,message:l.toString(t)}})}max(e,t){return new tS({...this._def,maxLength:{value:e,message:l.toString(t)}})}length(e,t){return new tS({...this._def,exactLength:{value:e,message:l.toString(t)}})}nonempty(e){return this.min(1,e)}}tS.create=(e,t)=>new tS({type:e,minLength:null,maxLength:null,exactLength:null,typeName:c.ZodArray,...e6(t)});class tC extends e7{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==eU.object){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.object,received:t.parsedType}),eJ}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof tN&&"strip"===this._def.unknownKeys))for(let e in r.data)s.includes(e)||a.push(e);let i=[];for(let e of s){let t=n[e],s=r.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new e3(r,s,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tN){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(eK(r,{code:eF.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new e3(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>eW.mergeObjectSync(t,e)):eW.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return l.errToObj,new tC({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,s,a,i;let o=null!==(a=null===(s=(n=this._def).errorMap)||void 0===s?void 0:s.call(n,t,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=l.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new tC({...this._def,unknownKeys:"strip"})}passthrough(){return new tC({...this._def,unknownKeys:"passthrough"})}extend(e){return new tC({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tC({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tC({...this._def,catchall:e})}pick(e){let t={};return i.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new tC({...this._def,shape:()=>t})}omit(e){let t={};return i.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new tC({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tC){let r={};for(let n in t.shape){let s=t.shape[n];r[n]=tH.create(e(s))}return new tC({...t._def,shape:()=>r})}return t instanceof tS?new tS({...t._def,type:e(t.element)}):t instanceof tH?tH.create(e(t.unwrap())):t instanceof tK?tK.create(e(t.unwrap())):t instanceof t$?t$.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return i.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new tC({...this._def,shape:()=>t})}required(e){let t={};return i.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof tH;)e=e._def.innerType;t[r]=e}}),new tC({...this._def,shape:()=>t})}keyof(){return tF(i.objectKeys(this.shape))}}tC.create=(e,t)=>new tC({shape:()=>e,unknownKeys:"strip",catchall:tN.create(),typeName:c.ZodObject,...e6(t)}),tC.strictCreate=(e,t)=>new tC({shape:()=>e,unknownKeys:"strict",catchall:tN.create(),typeName:c.ZodObject,...e6(t)}),tC.lazycreate=(e,t)=>new tC({shape:e,unknownKeys:"strip",catchall:tN.create(),typeName:c.ZodObject,...e6(t)});class tO extends e7{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new eV(e.ctx.common.issues));return eK(t,{code:eF.invalid_union,unionErrors:r}),eJ});{let e;let n=[];for(let s of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=n.map(e=>new eV(e));return eK(t,{code:eF.invalid_union,unionErrors:s}),eJ}}get options(){return this._def.options}}tO.create=(e,t)=>new tO({options:e,typeName:c.ZodUnion,...e6(t)});let tA=e=>{if(e instanceof tU)return tA(e.schema);if(e instanceof tG)return tA(e.innerType());if(e instanceof tz)return[e.value];if(e instanceof tV)return e.options;if(e instanceof tq)return i.objectValues(e.enum);if(e instanceof tW)return tA(e._def.innerType);if(e instanceof tk)return[void 0];else if(e instanceof tT)return[null];else if(e instanceof tH)return[void 0,...tA(e.unwrap())];else if(e instanceof tK)return[null,...tA(e.unwrap())];else if(e instanceof tQ)return tA(e.unwrap());else if(e instanceof t1)return tA(e.unwrap());else if(e instanceof tJ)return tA(e._def.innerType);else return[]};class tR extends e7{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eU.object)return eK(t,{code:eF.invalid_type,expected:eU.object,received:t.parsedType}),eJ;let r=this.discriminator,n=t.data[r],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(eK(t,{code:eF.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),eJ)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=tA(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of t){if(n.has(s))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);n.set(s,r)}}return new tR({typeName:c.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...e6(r)})}}class tP extends e7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(eQ(e)||eQ(n))return eJ;let s=function e(t,r){let n=ez(t),s=ez(r);if(t===r)return{valid:!0,data:t};if(n===eU.object&&s===eU.object){let n=i.objectKeys(r),s=i.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of s){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};a[n]=s.data}return{valid:!0,data:a}}if(n===eU.array&&s===eU.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let s=0;s<t.length;s++){let a=e(t[s],r[s]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===eU.date&&s===eU.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return s.valid?((e0(e)||e0(n))&&t.dirty(),{status:t.value,value:s.data}):(eK(r,{code:eF.invalid_intersection_types}),eJ)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tP.create=(e,t,r)=>new tP({left:e,right:t,typeName:c.ZodIntersection,...e6(r)});class t$ extends e7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eU.array)return eK(r,{code:eF.invalid_type,expected:eU.array,received:r.parsedType}),eJ;if(r.data.length<this._def.items.length)return eK(r,{code:eF.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),eJ;!this._def.rest&&r.data.length>this._def.items.length&&(eK(r,{code:eF.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new e3(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>eW.mergeArray(t,e)):eW.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new t$({...this._def,rest:e})}}t$.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new t$({items:e,typeName:c.ZodTuple,rest:null,...e6(t)})};class tZ extends e7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eU.object)return eK(r,{code:eF.invalid_type,expected:eU.object,received:r.parsedType}),eJ;let n=[],s=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:s._parse(new e3(r,e,r.path,e)),value:a._parse(new e3(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?eW.mergeObjectAsync(t,n):eW.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tZ(t instanceof e7?{keyType:e,valueType:t,typeName:c.ZodRecord,...e6(r)}:{keyType:ty.create(),valueType:e,typeName:c.ZodRecord,...e6(t)})}}class tM extends e7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eU.map)return eK(r,{code:eF.invalid_type,expected:eU.map,received:r.parsedType}),eJ;let n=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new e3(r,e,r.path,[a,"key"])),value:s._parse(new e3(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,s=await r.value;if("aborted"===n.status||"aborted"===s.status)return eJ;("dirty"===n.status||"dirty"===s.status)&&t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,s=r.value;if("aborted"===n.status||"aborted"===s.status)return eJ;("dirty"===n.status||"dirty"===s.status)&&t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}}}}tM.create=(e,t,r)=>new tM({valueType:t,keyType:e,typeName:c.ZodMap,...e6(r)});class tD extends e7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eU.set)return eK(r,{code:eF.invalid_type,expected:eU.set,received:r.parsedType}),eJ;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(eK(r,{code:eF.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(eK(r,{code:eF.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let s=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return eJ;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>s._parse(new e3(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>a(e)):a(i)}min(e,t){return new tD({...this._def,minSize:{value:e,message:l.toString(t)}})}max(e,t){return new tD({...this._def,maxSize:{value:e,message:l.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tD.create=(e,t)=>new tD({valueType:e,minSize:null,maxSize:null,typeName:c.ZodSet,...e6(t)});class tL extends e7{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eU.function)return eK(t,{code:eF.invalid_type,expected:eU.function,received:t.parsedType}),eJ;function r(e,r){return eH({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eG(),eq].filter(e=>!!e),issueData:{code:eF.invalid_arguments,argumentsError:r}})}function n(e,r){return eH({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eG(),eq].filter(e=>!!e),issueData:{code:eF.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof tB){let e=this;return eX(async function(...t){let i=new eV([]),o=await e._def.args.parseAsync(t,s).catch(e=>{throw i.addIssue(r(t,e)),i}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,s).catch(e=>{throw i.addIssue(n(l,e)),i})})}{let e=this;return eX(function(...t){let i=e._def.args.safeParse(t,s);if(!i.success)throw new eV([r(t,i.error)]);let o=Reflect.apply(a,this,i.data),l=e._def.returns.safeParse(o,s);if(!l.success)throw new eV([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tL({...this._def,args:t$.create(e).rest(tj.create())})}returns(e){return new tL({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new tL({args:e||t$.create([]).rest(tj.create()),returns:t||tj.create(),typeName:c.ZodFunction,...e6(r)})}}class tU extends e7{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tU.create=(e,t)=>new tU({getter:e,typeName:c.ZodLazy,...e6(t)});class tz extends e7{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return eK(t,{received:t.data,code:eF.invalid_literal,expected:this._def.value}),eJ}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tF(e,t){return new tV({values:e,typeName:c.ZodEnum,...e6(t)})}tz.create=(e,t)=>new tz({value:e,typeName:c.ZodLiteral,...e6(t)});class tV extends e7{constructor(){super(...arguments),d.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return eK(t,{expected:i.joinValues(r),received:t.parsedType,code:eF.invalid_type}),eJ}if(e4(this,d,"f")||e9(this,d,new Set(this._def.values),"f"),!e4(this,d,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return eK(t,{received:t.data,code:eF.invalid_enum_value,options:r}),eJ}return eX(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tV.create(e,{...this._def,...t})}exclude(e,t=this._def){return tV.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}d=new WeakMap,tV.create=tF;class tq extends e7{constructor(){super(...arguments),u.set(this,void 0)}_parse(e){let t=i.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==eU.string&&r.parsedType!==eU.number){let e=i.objectValues(t);return eK(r,{expected:i.joinValues(e),received:r.parsedType,code:eF.invalid_type}),eJ}if(e4(this,u,"f")||e9(this,u,new Set(i.getValidEnumValues(this._def.values)),"f"),!e4(this,u,"f").has(e.data)){let e=i.objectValues(t);return eK(r,{received:r.data,code:eF.invalid_enum_value,options:e}),eJ}return eX(e.data)}get enum(){return this._def.values}}u=new WeakMap,tq.create=(e,t)=>new tq({values:e,typeName:c.ZodNativeEnum,...e6(t)});class tB extends e7{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eU.promise&&!1===t.common.async?(eK(t,{code:eF.invalid_type,expected:eU.promise,received:t.parsedType}),eJ):eX((t.parsedType===eU.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tB.create=(e,t)=>new tB({type:e,typeName:c.ZodPromise,...e6(t)});class tG extends e7{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:e=>{eK(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===n.type){let e=n.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return eJ;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?eJ:"dirty"===n.status||"dirty"===t.value?eY(n.value):n});{if("aborted"===t.value)return eJ;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?eJ:"dirty"===n.status||"dirty"===t.value?eY(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?eJ:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?eJ:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>e1(e)?Promise.resolve(n.transform(e.value,s)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!e1(e))return e;let a=n.transform(e.value,s);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}i.assertNever(n)}}tG.create=(e,t,r)=>new tG({schema:e,typeName:c.ZodEffects,effect:t,...e6(r)}),tG.createWithPreprocess=(e,t,r)=>new tG({schema:t,effect:{type:"preprocess",transform:e},typeName:c.ZodEffects,...e6(r)});class tH extends e7{_parse(e){return this._getType(e)===eU.undefined?eX(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tH.create=(e,t)=>new tH({innerType:e,typeName:c.ZodOptional,...e6(t)});class tK extends e7{_parse(e){return this._getType(e)===eU.null?eX(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tK.create=(e,t)=>new tK({innerType:e,typeName:c.ZodNullable,...e6(t)});class tW extends e7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===eU.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tW.create=(e,t)=>new tW({innerType:e,typeName:c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...e6(t)});class tJ extends e7{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return e2(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new eV(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new eV(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tJ.create=(e,t)=>new tJ({innerType:e,typeName:c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...e6(t)});class tY extends e7{_parse(e){if(this._getType(e)!==eU.nan){let t=this._getOrReturnCtx(e);return eK(t,{code:eF.invalid_type,expected:eU.nan,received:t.parsedType}),eJ}return{status:"valid",value:e.data}}}tY.create=e=>new tY({typeName:c.ZodNaN,...e6(e)});let tX=Symbol("zod_brand");class tQ extends e7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class t0 extends e7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eJ:"dirty"===e.status?(t.dirty(),eY(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eJ:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new t0({in:e,out:t,typeName:c.ZodPipeline})}}class t1 extends e7{_parse(e){let t=this._def.innerType._parse(e),r=e=>(e1(e)&&(e.value=Object.freeze(e.value)),e);return e2(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function t2(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function t4(e,t={},r){return e?tE.create().superRefine((n,s)=>{var a,i;let o=e(n);if(o instanceof Promise)return o.then(e=>{var a,i;if(!e){let e=t2(t,n),o=null===(i=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===i||i;s.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=t2(t,n),o=null===(i=null!==(a=e.fatal)&&void 0!==a?a:r)||void 0===i||i;s.addIssue({code:"custom",...e,fatal:o})}}):tE.create()}t1.create=(e,t)=>new t1({innerType:e,typeName:c.ZodReadonly,...e6(t)});let t9={object:tC.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(c||(c={}));let t3=ty.create,t5=tv.create,t6=tY.create,t7=tb.create,t8=t_.create,re=tx.create,rt=tw.create,rr=tk.create,rn=tT.create,rs=tE.create,ra=tj.create,ri=tN.create,ro=tI.create,rl=tS.create,rd=tC.create,ru=tC.strictCreate,rc=tO.create,rp=tR.create,rm=tP.create,rh=t$.create,rf=tZ.create,rg=tM.create,ry=tD.create,rv=tL.create,rb=tU.create,r_=tz.create,rx=tV.create,rw=tq.create,rk=tB.create,rT=tG.create,rE=tH.create,rj=tK.create,rN=tG.createWithPreprocess,rI=t0.create;var rS=Object.freeze({__proto__:null,defaultErrorMap:eq,setErrorMap:function(e){eB=e},getErrorMap:eG,makeIssue:eH,EMPTY_PATH:[],addIssueToContext:eK,ParseStatus:eW,INVALID:eJ,DIRTY:eY,OK:eX,isAborted:eQ,isDirty:e0,isValid:e1,isAsync:e2,get util(){return i},get objectUtil(){return o},ZodParsedType:eU,getParsedType:ez,ZodType:e7,datetimeRegex:tg,ZodString:ty,ZodNumber:tv,ZodBigInt:tb,ZodBoolean:t_,ZodDate:tx,ZodSymbol:tw,ZodUndefined:tk,ZodNull:tT,ZodAny:tE,ZodUnknown:tj,ZodNever:tN,ZodVoid:tI,ZodArray:tS,ZodObject:tC,ZodUnion:tO,ZodDiscriminatedUnion:tR,ZodIntersection:tP,ZodTuple:t$,ZodRecord:tZ,ZodMap:tM,ZodSet:tD,ZodFunction:tL,ZodLazy:tU,ZodLiteral:tz,ZodEnum:tV,ZodNativeEnum:tq,ZodPromise:tB,ZodEffects:tG,ZodTransformer:tG,ZodOptional:tH,ZodNullable:tK,ZodDefault:tW,ZodCatch:tJ,ZodNaN:tY,BRAND:tX,ZodBranded:tQ,ZodPipeline:t0,ZodReadonly:t1,custom:t4,Schema:e7,ZodSchema:e7,late:t9,get ZodFirstPartyTypeKind(){return c},coerce:{string:e=>ty.create({...e,coerce:!0}),number:e=>tv.create({...e,coerce:!0}),boolean:e=>t_.create({...e,coerce:!0}),bigint:e=>tb.create({...e,coerce:!0}),date:e=>tx.create({...e,coerce:!0})},any:rs,array:rl,bigint:t7,boolean:t8,date:re,discriminatedUnion:rp,effect:rT,enum:rx,function:rv,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>t4(t=>t instanceof e,t),intersection:rm,lazy:rb,literal:r_,map:rg,nan:t6,nativeEnum:rw,never:ri,null:rn,nullable:rj,number:t5,object:rd,oboolean:()=>t8().optional(),onumber:()=>t5().optional(),optional:rE,ostring:()=>t3().optional(),pipeline:rI,preprocess:rN,promise:rk,record:rf,set:ry,strictObject:ru,string:t3,symbol:rt,transformer:rT,tuple:rh,undefined:rr,union:rc,unknown:ra,void:ro,NEVER:eJ,ZodIssueCode:eF,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:eV}),rC="vercel.ai.error",rO=Symbol.for(rC),rA=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[p]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,rC)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};p=rO;var rR=rA,rP="AI_APICallError",r$=`vercel.ai.error.${rP}`,rZ=Symbol.for(r$),rM=class extends rR{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:s,responseBody:a,cause:i,isRetryable:o=null!=n&&(408===n||409===n||429===n||n>=500),data:l}){super({name:rP,message:e,cause:i}),this[m]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=s,this.responseBody=a,this.isRetryable=o,this.data=l}static isInstance(e){return rR.hasMarker(e,r$)}};m=rZ;var rD="AI_EmptyResponseBodyError",rL=`vercel.ai.error.${rD}`,rU=Symbol.for(rL),rz=class extends rR{constructor({message:e="Empty response body"}={}){super({name:rD,message:e}),this[h]=!0}static isInstance(e){return rR.hasMarker(e,rL)}};function rF(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}h=rU;var rV="AI_InvalidArgumentError",rq=`vercel.ai.error.${rV}`,rB=Symbol.for(rq),rG=class extends rR{constructor({message:e,cause:t,argument:r}){super({name:rV,message:e,cause:t}),this[f]=!0,this.argument=r}static isInstance(e){return rR.hasMarker(e,rq)}};f=rB;var rH="AI_InvalidPromptError",rK=`vercel.ai.error.${rH}`,rW=Symbol.for(rK),rJ=class extends rR{constructor({prompt:e,message:t,cause:r}){super({name:rH,message:`Invalid prompt: ${t}`,cause:r}),this[g]=!0,this.prompt=e}static isInstance(e){return rR.hasMarker(e,rK)}};g=rW;var rY="AI_InvalidResponseDataError",rX=`vercel.ai.error.${rY}`,rQ=Symbol.for(rX),r0=class extends rR{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:rY,message:t}),this[y]=!0,this.data=e}static isInstance(e){return rR.hasMarker(e,rX)}};y=rQ;var r1="AI_JSONParseError",r2=`vercel.ai.error.${r1}`,r4=Symbol.for(r2),r9=class extends rR{constructor({text:e,cause:t}){super({name:r1,message:`JSON parsing failed: Text: ${e}.
Error message: ${rF(t)}`,cause:t}),this[v]=!0,this.text=e}static isInstance(e){return rR.hasMarker(e,r2)}};v=r4;var r3="AI_LoadAPIKeyError",r5=`vercel.ai.error.${r3}`,r6=Symbol.for(r5),r7=class extends rR{constructor({message:e}){super({name:r3,message:e}),this[b]=!0}static isInstance(e){return rR.hasMarker(e,r5)}};b=r6,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError");var r8="AI_TooManyEmbeddingValuesForCallError",ne=`vercel.ai.error.${r8}`,nt=Symbol.for(ne),nr=class extends rR{constructor(e){super({name:r8,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[_]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return rR.hasMarker(e,ne)}};_=nt;var nn="AI_TypeValidationError",ns=`vercel.ai.error.${nn}`,na=Symbol.for(ns),ni=class e extends rR{constructor({value:e,cause:t}){super({name:nn,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${rF(t)}`,cause:t}),this[x]=!0,this.value=e}static isInstance(e){return rR.hasMarker(e,ns)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};x=na;var no="AI_UnsupportedFunctionalityError",nl=`vercel.ai.error.${no}`,nd=Symbol.for(nl),nu=class extends rR{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:no,message:t}),this[w]=!0,this.functionality=e}static isInstance(e){return rR.hasMarker(e,nl)}};function nc(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(nc):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&nc(t)))}w=nd;let np=(e,t=21)=>(r=t)=>{let n="",s=0|r;for(;s--;)n+=e[Math.random()*e.length|0];return n};var nm=r(1481);function nh(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function nf(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var ng=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let s=np(r,t);if(null==e)return s;if(r.includes(n))throw new rG({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${s(t)}`})();function ny(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var nv=Symbol.for("vercel.ai.validator");function nb({value:e,schema:t}){let r="object"==typeof t&&null!==t&&nv in t&&!0===t[nv]&&"validate"in t?t:{[nv]:!0,validate:e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}};try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:ni.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:ni.wrap({value:e,cause:t})}}}function n_({text:e,schema:t}){try{let r=nm.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=nb({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:r9.isInstance(t)?t:new r9({text:e,cause:t})}}}function nx(e){try{return nm.parse(e),!0}catch(e){return!1}}function nw({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=nb({value:t[e],schema:r});if(!n.success)throw new rG({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var nk=()=>globalThis.fetch,nT=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:s,abortSignal:a,fetch:i})=>nj({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:s,abortSignal:a,fetch:i}),nE=async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:s,abortSignal:a,fetch:i})=>nj({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:s,abortSignal:a,fetch:i}),nj=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:s,abortSignal:a,fetch:i=nk()})=>{try{let o=await i(e,{method:"POST",headers:Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),body:r.content,signal:a}),l=nf(o);if(!o.ok){let t;try{t=await s({response:o,url:e,requestBodyValues:r.values})}catch(t){if(ny(t)||rM.isInstance(t))throw t;throw new rM({message:"Failed to process error response",cause:t,statusCode:o.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:o,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(ny(t)||rM.isInstance(t)))throw t;throw new rM({message:"Failed to process successful response",cause:t,statusCode:o.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(ny(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new rM({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},nN=e=>async({response:t})=>{let r=nf(t);if(null==t.body)throw new rz({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(function(){let e,t,r,n="",s=[];function a(e,t){if(""===e){i(t);return}if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r){o(e,"");return}let n=e.slice(0,r),s=r+1;o(n,s<e.length&&" "===e[s]?e.slice(s+1):e.slice(s))}function i(n){s.length>0&&(n.enqueue({event:e,data:s.join("\n"),id:t,retry:r}),s=[],e=void 0,r=void 0)}function o(n,a){switch(n){case"event":e=a;break;case"data":s.push(a);break;case"id":t=a;break;case"retry":let i=parseInt(a,10);isNaN(i)||(r=i)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:s}=function(e,t){let r=[],n=e;for(let e=0;e<t.length;){let s=t[e++];"\n"===s?(r.push(n),n=""):"\r"===s?(r.push(n),n="","\n"===t[e]&&e++):n+=s}return{lines:r,incompleteLine:n}}(n,e);n=s;for(let e=0;e<r.length;e++)a(r[e],t)},flush(e){a(n,e),i(e)}})}()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(n_({text:t,schema:e}))}}))}},nI=e=>async({response:t,url:r,requestBodyValues:n})=>{let s=await t.text(),a=n_({text:s,schema:e}),i=nf(t);if(!a.success)throw new rM({message:"Invalid JSON response",cause:a.error,statusCode:t.status,responseHeaders:i,responseBody:s,url:r,requestBodyValues:n});return{responseHeaders:i,value:a.value,rawValue:a.rawValue}},nS=()=>async({response:e,url:t,requestBodyValues:r})=>{let n=nf(e);if(!e.body)throw new rM({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(t)}}catch(s){throw new rM({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:s})}},{btoa:nC,atob:nO}=globalThis;function nA(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return nC(t)}function nR(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:r})=>({token:e,logprob:t,topLogprobs:r?r.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?r:void 0}function nP(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var n$=rS.object({error:rS.object({message:rS.string(),type:rS.string().nullish(),param:rS.any().nullish(),code:rS.union([rS.string(),rS.number()]).nullish()})}),nZ=(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:s,requestBodyValues:a})=>{let i=await n.text(),o=nf(n);if(""===i.trim())return{responseHeaders:o,value:new rM({message:n.statusText,url:s,requestBodyValues:a,statusCode:n.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(n)})};try{let l=function({text:e,schema:t}){try{let r=nm.parse(e);if(null==t)return r;return function({value:e,schema:t}){let r=nb({value:e,schema:t});if(!r.success)throw ni.wrap({value:e,cause:r.error});return r.value}({value:r,schema:t})}catch(t){if(r9.isInstance(t)||ni.isInstance(t))throw t;throw new r9({text:e,cause:t})}}({text:i,schema:e});return{responseHeaders:o,value:new rM({message:t(l),url:s,requestBodyValues:a,statusCode:n.status,responseHeaders:o,responseBody:i,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:o,value:new rM({message:n.statusText,url:s,requestBodyValues:a,statusCode:n.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(n)})}}})({errorSchema:n$,errorToMessage:e=>e.error.message});function nM({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}var nD=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return null!=(e=this.settings.structuredOutputs)?e:nF(this.modelId)}get defaultObjectGenerationMode(){return this.modelId.startsWith("gpt-4o-audio-preview")?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:s,topK:a,frequencyPenalty:i,presencePenalty:o,stopSequences:l,responseFormat:d,seed:u,providerMetadata:c}){var p,m,h,f,g,y,v,b,_,x,w;let k=e.type,T=[];null!=a&&T.push({type:"unsupported-setting",setting:"topK"}),(null==d?void 0:d.type)!=="json"||null==d.schema||this.supportsStructuredOutputs||T.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let E=this.settings.useLegacyFunctionCalling;if(E&&!0===this.settings.parallelToolCalls)throw new nu({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(E&&this.supportsStructuredOutputs)throw new nu({functionality:"structuredOutputs with useLegacyFunctionCalling"});let{messages:j,warnings:N}=function({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:r="system"}){let n=[],s=[];for(let{role:a,content:i}of e)switch(a){case"system":switch(r){case"system":n.push({role:"system",content:i});break;case"developer":n.push({role:"developer",content:i});break;case"remove":s.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${r}`)}break;case"user":if(1===i.length&&"text"===i[0].type){n.push({role:"user",content:i[0].text});break}n.push({role:"user",content:i.map((e,t)=>{var r,n,s,a;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(r=e.mimeType)?r:"image/jpeg"};base64,${nA(e.image)}`,detail:null==(s=null==(n=e.providerMetadata)?void 0:n.openai)?void 0:s.imageDetail}};case"file":if(e.data instanceof URL)throw new nu({functionality:"'File content parts with URL data' functionality not supported."});switch(e.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:e.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:e.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`}};default:throw new nu({functionality:`File content part type ${e.mimeType} in user messages`})}}})});break;case"assistant":{let e="",r=[];for(let t of i)switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}if(t){if(r.length>1)throw new nu({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:e,function_call:r.length>0?r[0].function:void 0})}else n.push({role:"assistant",content:e,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of i)t?n.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):n.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:throw Error(`Unsupported role: ${a}`)}return{messages:n,warnings:s}}({prompt:t,useLegacyFunctionCalling:E,systemMessageMode:nF(_=this.modelId)?null!=(w=null==(x=nV[_])?void 0:x.systemMessageMode)?w:"developer":"system"});T.push(...N);let I={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:s,frequency_penalty:i,presence_penalty:o,response_format:(null==d?void 0:d.type)==="json"?this.supportsStructuredOutputs&&null!=d.schema?{type:"json_schema",json_schema:{schema:d.schema,strict:!0,name:null!=(p=d.name)?p:"response",description:d.description}}:{type:"json_object"}:void 0,stop:l,seed:u,max_completion_tokens:null==(m=null==c?void 0:c.openai)?void 0:m.maxCompletionTokens,store:null==(h=null==c?void 0:c.openai)?void 0:h.store,metadata:null==(f=null==c?void 0:c.openai)?void 0:f.metadata,prediction:null==(g=null==c?void 0:c.openai)?void 0:g.prediction,reasoning_effort:null!=(v=null==(y=null==c?void 0:c.openai)?void 0:y.reasoningEffort)?v:this.settings.reasoningEffort,messages:j};switch(nF(this.modelId)?(null!=I.temperature&&(I.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=I.top_p&&(I.top_p=void 0,T.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=I.frequency_penalty&&(I.frequency_penalty=void 0,T.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=I.presence_penalty&&(I.presence_penalty=void 0,T.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=I.logit_bias&&(I.logit_bias=void 0,T.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=I.logprobs&&(I.logprobs=void 0,T.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=I.top_logprobs&&(I.top_logprobs=void 0,T.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=I.max_tokens&&(null==I.max_completion_tokens&&(I.max_completion_tokens=I.max_tokens),I.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=I.temperature&&(I.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),k){case"regular":{let{tools:t,tool_choice:r,functions:n,function_call:s,toolWarnings:a}=function({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let s=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,a=[];if(null==s)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let i=e.toolChoice;if(t){let e=[];for(let t of s)"provider-defined"===t.type?a.push({type:"unsupported-tool",tool:t}):e.push({name:t.name,description:t.description,parameters:t.parameters});if(null==i)return{functions:e,function_call:void 0,toolWarnings:a};switch(i.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0,toolWarnings:a};case"required":throw new nu({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:i.toolName},toolWarnings:a}}}let o=[];for(let e of s)"provider-defined"===e.type?a.push({type:"unsupported-tool",tool:e}):o.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters,strict:!!r||void 0}});if(null==i)return{tools:o,tool_choice:void 0,toolWarnings:a};let l=i.type;switch(l){case"auto":case"none":case"required":return{tools:o,tool_choice:l,toolWarnings:a};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:a};default:throw new nu({functionality:`Unsupported tool choice type: ${l}`})}}({mode:e,useLegacyFunctionCalling:E,structuredOutputs:this.supportsStructuredOutputs});return{args:{...I,tools:t,tool_choice:r,functions:n,function_call:s},warnings:[...T,...a]}}case"object-json":return{args:{...I,response_format:this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(b=e.name)?b:"response",description:e.description}}:{type:"json_object"}},warnings:T};case"object-tool":return{args:E?{...I,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...I,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!!this.supportsStructuredOutputs||void 0}}]},warnings:T};default:throw Error(`Unsupported type: ${k}`)}}async doGenerate(e){var t,r,n,s,a,i,o,l;let{args:d,warnings:u}=this.getArgs(e),{responseHeaders:c,value:p,rawValue:m}=await nT({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:d,failedResponseHandler:nZ,successfulResponseHandler:nI(nU),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...f}=d,g=p.choices[0],y=null==(t=p.usage)?void 0:t.completion_tokens_details,v=null==(r=p.usage)?void 0:r.prompt_tokens_details,b={openai:{}};return(null==y?void 0:y.reasoning_tokens)!=null&&(b.openai.reasoningTokens=null==y?void 0:y.reasoning_tokens),(null==y?void 0:y.accepted_prediction_tokens)!=null&&(b.openai.acceptedPredictionTokens=null==y?void 0:y.accepted_prediction_tokens),(null==y?void 0:y.rejected_prediction_tokens)!=null&&(b.openai.rejectedPredictionTokens=null==y?void 0:y.rejected_prediction_tokens),(null==v?void 0:v.cached_tokens)!=null&&(b.openai.cachedPromptTokens=null==v?void 0:v.cached_tokens),{text:null!=(n=g.message.content)?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&g.message.function_call?[{toolCallType:"function",toolCallId:ng(),toolName:g.message.function_call.name,args:g.message.function_call.arguments}]:null==(s=g.message.tool_calls)?void 0:s.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:ng(),toolName:e.function.name,args:e.function.arguments}}),finishReason:nP(g.finish_reason),usage:{promptTokens:null!=(i=null==(a=p.usage)?void 0:a.prompt_tokens)?i:NaN,completionTokens:null!=(l=null==(o=p.usage)?void 0:o.completion_tokens)?l:NaN},rawCall:{rawPrompt:h,rawSettings:f},rawResponse:{headers:c,body:m},request:{body:JSON.stringify(d)},response:nM(p),warnings:u,logprobs:nR(g.logprobs),providerMetadata:b}}async doStream(e){let t;if(this.settings.simulateStreaming){let t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(let r of t.toolCalls)e.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:r.toolCallId,toolName:r.toolName,argsTextDelta:r.args}),e.enqueue({type:"tool-call",...r});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:r,warnings:n}=this.getArgs(e),s={...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await nT({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:s,failedResponseHandler:nZ,successfulResponseHandler:nN(nz),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...l}=r,d=[],u="unknown",c={promptTokens:void 0,completionTokens:void 0},p=!0,{useLegacyFunctionCalling:m}=this.settings,h={openai:{}};return{stream:i.pipeThrough(new TransformStream({transform(e,r){var n,s,a,i,o,l,f,g,y,v,b,_;if(!e.success){u="error",r.enqueue({type:"error",error:e.error});return}let x=e.value;if("error"in x){u="error",r.enqueue({type:"error",error:x.error});return}if(p&&(p=!1,r.enqueue({type:"response-metadata",...nM(x)})),null!=x.usage){let{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:r,completion_tokens_details:n}=x.usage;c={promptTokens:null!=e?e:void 0,completionTokens:null!=t?t:void 0},(null==n?void 0:n.reasoning_tokens)!=null&&(h.openai.reasoningTokens=null==n?void 0:n.reasoning_tokens),(null==n?void 0:n.accepted_prediction_tokens)!=null&&(h.openai.acceptedPredictionTokens=null==n?void 0:n.accepted_prediction_tokens),(null==n?void 0:n.rejected_prediction_tokens)!=null&&(h.openai.rejectedPredictionTokens=null==n?void 0:n.rejected_prediction_tokens),(null==r?void 0:r.cached_tokens)!=null&&(h.openai.cachedPromptTokens=null==r?void 0:r.cached_tokens)}let w=x.choices[0];if((null==w?void 0:w.finish_reason)!=null&&(u=nP(w.finish_reason)),(null==w?void 0:w.delta)==null)return;let k=w.delta;null!=k.content&&r.enqueue({type:"text-delta",textDelta:k.content});let T=nR(null==w?void 0:w.logprobs);(null==T?void 0:T.length)&&(void 0===t&&(t=[]),t.push(...T));let E=m&&null!=k.function_call?[{type:"function",id:ng(),function:k.function_call,index:0}]:k.tool_calls;if(null!=E)for(let e of E){let t=e.index;if(null==d[t]){if("function"!==e.type)throw new r0({data:e,message:"Expected 'function' type."});if(null==e.id)throw new r0({data:e,message:"Expected 'id' to be a string."});if((null==(n=e.function)?void 0:n.name)==null)throw new r0({data:e,message:"Expected 'function.name' to be a string."});d[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(s=e.function.arguments)?s:""},hasFinished:!1};let l=d[t];(null==(a=l.function)?void 0:a.name)!=null&&(null==(i=l.function)?void 0:i.arguments)!=null&&(l.function.arguments.length>0&&r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:l.id,toolName:l.function.name,argsTextDelta:l.function.arguments}),nx(l.function.arguments)&&(r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(o=l.id)?o:ng(),toolName:l.function.name,args:l.function.arguments}),l.hasFinished=!0));continue}let u=d[t];!u.hasFinished&&((null==(l=e.function)?void 0:l.arguments)!=null&&(u.function.arguments+=null!=(g=null==(f=e.function)?void 0:f.arguments)?g:""),r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:u.id,toolName:u.function.name,argsTextDelta:null!=(y=e.function.arguments)?y:""}),(null==(v=u.function)?void 0:v.name)!=null&&(null==(b=u.function)?void 0:b.arguments)!=null&&nx(u.function.arguments)&&(r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(_=u.id)?_:ng(),toolName:u.function.name,args:u.function.arguments}),u.hasFinished=!0))}},flush(e){var r,n;e.enqueue({type:"finish",finishReason:u,logprobs:t,usage:{promptTokens:null!=(r=c.promptTokens)?r:NaN,completionTokens:null!=(n=c.completionTokens)?n:NaN},...null!=h?{providerMetadata:h}:{}})}})),rawCall:{rawPrompt:o,rawSettings:l},rawResponse:{headers:a},request:{body:JSON.stringify(s)},warnings:n}}},nL=rS.object({prompt_tokens:rS.number().nullish(),completion_tokens:rS.number().nullish(),prompt_tokens_details:rS.object({cached_tokens:rS.number().nullish()}).nullish(),completion_tokens_details:rS.object({reasoning_tokens:rS.number().nullish(),accepted_prediction_tokens:rS.number().nullish(),rejected_prediction_tokens:rS.number().nullish()}).nullish()}).nullish(),nU=rS.object({id:rS.string().nullish(),created:rS.number().nullish(),model:rS.string().nullish(),choices:rS.array(rS.object({message:rS.object({role:rS.literal("assistant").nullish(),content:rS.string().nullish(),function_call:rS.object({arguments:rS.string(),name:rS.string()}).nullish(),tool_calls:rS.array(rS.object({id:rS.string().nullish(),type:rS.literal("function"),function:rS.object({name:rS.string(),arguments:rS.string()})})).nullish()}),index:rS.number(),logprobs:rS.object({content:rS.array(rS.object({token:rS.string(),logprob:rS.number(),top_logprobs:rS.array(rS.object({token:rS.string(),logprob:rS.number()}))})).nullable()}).nullish(),finish_reason:rS.string().nullish()})),usage:nL}),nz=rS.union([rS.object({id:rS.string().nullish(),created:rS.number().nullish(),model:rS.string().nullish(),choices:rS.array(rS.object({delta:rS.object({role:rS.enum(["assistant"]).nullish(),content:rS.string().nullish(),function_call:rS.object({name:rS.string().optional(),arguments:rS.string().optional()}).nullish(),tool_calls:rS.array(rS.object({index:rS.number(),id:rS.string().nullish(),type:rS.literal("function").nullish(),function:rS.object({name:rS.string().nullish(),arguments:rS.string().nullish()})})).nullish()}).nullish(),logprobs:rS.object({content:rS.array(rS.object({token:rS.string(),logprob:rS.number(),top_logprobs:rS.array(rS.object({token:rS.string(),logprob:rS.number()}))})).nullable()}).nullish(),finish_reason:rS.string().nullish(),index:rS.number()})),usage:nL}),n$]);function nF(e){return e.startsWith("o")}var nV={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function nq(e){return null==e?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([e,t])=>({token:e,logprob:t})):[]}))}var nB=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:s,topP:a,topK:i,frequencyPenalty:o,presencePenalty:l,stopSequences:d,responseFormat:u,seed:c}){var p;let m=e.type,h=[];null!=i&&h.push({type:"unsupported-setting",setting:"topK"}),null!=u&&"text"!==u.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:f,stopSequences:g}=function({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let s="";for(let{role:t,content:a}of("system"===e[0].role&&(s+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new rJ({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=a.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new nu({functionality:"images"})}}).join("");s+=`${r}:
${e}

`;break}case"assistant":{let e=a.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new nu({functionality:"tool-call messages"})}}).join("");s+=`${n}:
${e}

`;break}case"tool":throw new nu({functionality:"tool messages"});default:throw Error(`Unsupported role: ${t}`)}return{prompt:s+=`${n}:
`,stopSequences:[`
${r}:`]}}({prompt:r,inputFormat:t}),y=[...null!=g?g:[],...null!=d?d:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:s,top_p:a,frequency_penalty:o,presence_penalty:l,seed:c,prompt:f,stop:y.length>0?y:void 0};switch(m){case"regular":if(null==(p=e.tools)?void 0:p.length)throw new nu({functionality:"tools"});if(e.toolChoice)throw new nu({functionality:"toolChoice"});return{args:v,warnings:h};case"object-json":throw new nu({functionality:"object-json mode"});case"object-tool":throw new nu({functionality:"object-tool mode"});default:throw Error(`Unsupported type: ${m}`)}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:s,rawValue:a}=await nT({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:t,failedResponseHandler:nZ,successfulResponseHandler:nI(nG),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...o}=t,l=s.choices[0];return{text:l.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:nP(l.finish_reason),logprobs:nq(l.logprobs),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:n,body:a},response:nM(s),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let t;let{args:r,warnings:n}=this.getArgs(e),s={...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await nT({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:s,failedResponseHandler:nZ,successfulResponseHandler:nN(nH),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...l}=r,d="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c=!0;return{stream:i.pipeThrough(new TransformStream({transform(e,r){if(!e.success){d="error",r.enqueue({type:"error",error:e.error});return}let n=e.value;if("error"in n){d="error",r.enqueue({type:"error",error:n.error});return}c&&(c=!1,r.enqueue({type:"response-metadata",...nM(n)})),null!=n.usage&&(u={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let s=n.choices[0];(null==s?void 0:s.finish_reason)!=null&&(d=nP(s.finish_reason)),(null==s?void 0:s.text)!=null&&r.enqueue({type:"text-delta",textDelta:s.text});let a=nq(null==s?void 0:s.logprobs);(null==a?void 0:a.length)&&(void 0===t&&(t=[]),t.push(...a))},flush(e){e.enqueue({type:"finish",finishReason:d,logprobs:t,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:l},rawResponse:{headers:a},warnings:n,request:{body:JSON.stringify(s)}}}},nG=rS.object({id:rS.string().nullish(),created:rS.number().nullish(),model:rS.string().nullish(),choices:rS.array(rS.object({text:rS.string(),finish_reason:rS.string(),logprobs:rS.object({tokens:rS.array(rS.string()),token_logprobs:rS.array(rS.number()),top_logprobs:rS.array(rS.record(rS.string(),rS.number())).nullable()}).nullish()})),usage:rS.object({prompt_tokens:rS.number(),completion_tokens:rS.number()})}),nH=rS.union([rS.object({id:rS.string().nullish(),created:rS.number().nullish(),model:rS.string().nullish(),choices:rS.array(rS.object({text:rS.string(),finish_reason:rS.string().nullish(),index:rS.number(),logprobs:rS.object({tokens:rS.array(rS.string()),token_logprobs:rS.array(rS.number()),top_logprobs:rS.array(rS.record(rS.string(),rS.number())).nullable()}).nullish()})),usage:rS.object({prompt_tokens:rS.number(),completion_tokens:rS.number()}).nullish()}),n$]),nK=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new nr({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:s}=await nT({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:nh(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:nZ,successfulResponseHandler:nI(nW),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.data.map(e=>e.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},nW=rS.object({data:rS.array(rS.object({embedding:rS.array(rS.number())})),usage:rS.object({prompt_tokens:rS.number()}).nullish()}),nJ={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},nY=new Set(["gpt-image-1"]),nX=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return null!=(t=null!=(e=this.settings.maxImagesPerCall)?e:nJ[this.modelId])?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:s,providerOptions:a,headers:i,abortSignal:o}){var l,d,u,c;let p=[];null!=n&&p.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=s&&p.push({type:"unsupported-setting",setting:"seed"});let m=null!=(u=null==(d=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:d.call(l))?u:new Date,{value:h,responseHeaders:f}=await nT({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:nh(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:r,...null!=(c=a.openai)?c:{},...nY.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:nZ,successfulResponseHandler:nI(nQ),abortSignal:o,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:p,response:{timestamp:m,modelId:this.modelId,headers:f}}}},nQ=rS.object({data:rS.array(rS.object({b64_json:rS.string()}))}),n0=rS.object({include:rS.array(rS.string()).nullish(),language:rS.string().nullish(),prompt:rS.string().nullish(),temperature:rS.number().min(0).max(1).nullish().default(0),timestampGranularities:rS.array(rS.enum(["word","segment"])).nullish().default(["segment"])}),n1={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},n2=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:r}){var n,s,a,i,o;let l=nw({provider:"openai",providerOptions:r,schema:n0}),d=new FormData,u=e instanceof Uint8Array?new Blob([e]):new Blob([function(e){let t=nO(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}(e)]);if(d.append("model",this.modelId),d.append("file",new File([u],"audio",{type:t})),l){let e={include:null!=(n=l.include)?n:void 0,language:null!=(s=l.language)?s:void 0,prompt:null!=(a=l.prompt)?a:void 0,temperature:null!=(i=l.temperature)?i:void 0,timestamp_granularities:null!=(o=l.timestampGranularities)?o:void 0};for(let t in e){let r=e[t];void 0!==r&&d.append(t,String(r))}}return{formData:d,warnings:[]}}async doGenerate(e){var t,r,n,s,a,i;let o=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:l,warnings:d}=this.getArgs(e),{value:u,responseHeaders:c,rawValue:p}=await nE({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),formData:l,failedResponseHandler:nZ,successfulResponseHandler:nI(n4),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=u.language&&u.language in n1?n1[u.language]:void 0;return{text:u.text,segments:null!=(a=null==(s=u.words)?void 0:s.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?a:[],language:m,durationInSeconds:null!=(i=u.duration)?i:void 0,warnings:d,response:{timestamp:o,modelId:this.modelId,headers:c,body:p}}}},n4=rS.object({text:rS.string(),language:rS.string().nullish(),duration:rS.number().nullish(),words:rS.array(rS.object({word:rS.string(),start:rS.number(),end:rS.number()})).nullish()});function n9({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}var n3=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:r,stopSequences:n,topP:s,topK:a,presencePenalty:i,frequencyPenalty:o,seed:l,prompt:d,providerMetadata:u,responseFormat:c}){var p,m,h,f;let g=[],y=(f=this.modelId).startsWith("o")?f.startsWith("o1-mini")||f.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1},v=e.type;null!=a&&g.push({type:"unsupported-setting",setting:"topK"}),null!=l&&g.push({type:"unsupported-setting",setting:"seed"}),null!=i&&g.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=o&&g.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=n&&g.push({type:"unsupported-setting",setting:"stopSequences"});let{messages:b,warnings:_}=function({prompt:e,systemMessageMode:t}){let r=[],n=[];for(let{role:s,content:a}of e)switch(s){case"system":switch(t){case"system":r.push({role:"system",content:a});break;case"developer":r.push({role:"developer",content:a});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":r.push({role:"user",content:a.map((e,t)=>{var r,n,s,a;switch(e.type){case"text":return{type:"input_text",text:e.text};case"image":return{type:"input_image",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(r=e.mimeType)?r:"image/jpeg"};base64,${nA(e.image)}`,detail:null==(s=null==(n=e.providerMetadata)?void 0:n.openai)?void 0:s.imageDetail};case"file":if(e.data instanceof URL)throw new nu({functionality:"File URLs in user messages"});if("application/pdf"===e.mimeType)return{type:"input_file",filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`};throw new nu({functionality:"Only PDF files are supported in user messages"})}})});break;case"assistant":for(let e of a)switch(e.type){case"text":r.push({role:"assistant",content:[{type:"output_text",text:e.text}]});break;case"tool-call":r.push({type:"function_call",call_id:e.toolCallId,name:e.toolName,arguments:JSON.stringify(e.args)})}break;case"tool":for(let e of a)r.push({type:"function_call_output",call_id:e.toolCallId,output:JSON.stringify(e.result)});break;default:throw Error(`Unsupported role: ${s}`)}return{messages:r,warnings:n}}({prompt:d,systemMessageMode:y.systemMessageMode});g.push(..._);let x=nw({provider:"openai",providerOptions:u,schema:si}),w=null==(p=null==x?void 0:x.strictSchemas)||p,k={model:this.modelId,input:b,temperature:r,top_p:s,max_output_tokens:t,...(null==c?void 0:c.type)==="json"&&{text:{format:null!=c.schema?{type:"json_schema",strict:w,name:null!=(m=c.name)?m:"response",description:c.description,schema:c.schema}:{type:"json_object"}}},metadata:null==x?void 0:x.metadata,parallel_tool_calls:null==x?void 0:x.parallelToolCalls,previous_response_id:null==x?void 0:x.previousResponseId,store:null==x?void 0:x.store,user:null==x?void 0:x.user,instructions:null==x?void 0:x.instructions,...y.isReasoningModel&&((null==x?void 0:x.reasoningEffort)!=null||(null==x?void 0:x.reasoningSummary)!=null)&&{reasoning:{...(null==x?void 0:x.reasoningEffort)!=null&&{effort:x.reasoningEffort},...(null==x?void 0:x.reasoningSummary)!=null&&{summary:x.reasoningSummary}}},...y.requiredAutoTruncation&&{truncation:"auto"}};switch(y.isReasoningModel&&(null!=k.temperature&&(k.temperature=void 0,g.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=k.top_p&&(k.top_p=void 0,g.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),v){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n}=function({mode:e,strict:t}){var r;let n=(null==(r=e.tools)?void 0:r.length)?e.tools:void 0,s=[];if(null==n)return{tools:void 0,tool_choice:void 0,toolWarnings:s};let a=e.toolChoice,i=[];for(let e of n)switch(e.type){case"function":i.push({type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:!!t||void 0});break;case"provider-defined":"openai.web_search_preview"===e.id?i.push({type:"web_search_preview",search_context_size:e.args.searchContextSize,user_location:e.args.userLocation}):s.push({type:"unsupported-tool",tool:e});break;default:s.push({type:"unsupported-tool",tool:e})}if(null==a)return{tools:i,tool_choice:void 0,toolWarnings:s};let o=a.type;switch(o){case"auto":case"none":case"required":return{tools:i,tool_choice:o,toolWarnings:s};case"tool":if("web_search_preview"===a.toolName)return{tools:i,tool_choice:{type:"web_search_preview"},toolWarnings:s};return{tools:i,tool_choice:{type:"function",name:a.toolName},toolWarnings:s};default:throw new nu({functionality:`Unsupported tool choice type: ${o}`})}}({mode:e,strict:w});return{args:{...k,tools:t,tool_choice:r},warnings:[...g,...n]}}case"object-json":return{args:{...k,text:{format:null!=e.schema?{type:"json_schema",strict:w,name:null!=(h=e.name)?h:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:g};case"object-tool":return{args:{...k,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:w}]},warnings:g};default:throw Error(`Unsupported type: ${v}`)}}async doGenerate(e){var t,r,n,s,a,i,o;let{args:l,warnings:d}=this.getArgs(e),{responseHeaders:u,value:c,rawValue:p}=await nT({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:l,failedResponseHandler:nZ,successfulResponseHandler:nI(rS.object({id:rS.string(),created_at:rS.number(),model:rS.string(),output:rS.array(rS.discriminatedUnion("type",[rS.object({type:rS.literal("message"),role:rS.literal("assistant"),content:rS.array(rS.object({type:rS.literal("output_text"),text:rS.string(),annotations:rS.array(rS.object({type:rS.literal("url_citation"),start_index:rS.number(),end_index:rS.number(),url:rS.string(),title:rS.string()}))}))}),rS.object({type:rS.literal("function_call"),call_id:rS.string(),name:rS.string(),arguments:rS.string()}),rS.object({type:rS.literal("web_search_call")}),rS.object({type:rS.literal("computer_call")}),rS.object({type:rS.literal("reasoning"),summary:rS.array(rS.object({type:rS.literal("summary_text"),text:rS.string()}))})])),incomplete_details:rS.object({reason:rS.string()}).nullable(),usage:n5})),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=c.output.filter(e=>"message"===e.type).flatMap(e=>e.content).filter(e=>"output_text"===e.type),h=c.output.filter(e=>"function_call"===e.type).map(e=>({toolCallType:"function",toolCallId:e.call_id,toolName:e.name,args:e.arguments})),f=null!=(r=null==(t=c.output.find(e=>"reasoning"===e.type))?void 0:t.summary)?r:null;return{text:m.map(e=>e.text).join("\n"),sources:m.flatMap(e=>e.annotations.map(e=>{var t,r,n;return{sourceType:"url",id:null!=(n=null==(r=(t=this.config).generateId)?void 0:r.call(t))?n:ng(),url:e.url,title:e.title}})),finishReason:n9({finishReason:null==(n=c.incomplete_details)?void 0:n.reason,hasToolCalls:h.length>0}),toolCalls:h.length>0?h:void 0,reasoning:f?f.map(e=>({type:"text",text:e.text})):void 0,usage:{promptTokens:c.usage.input_tokens,completionTokens:c.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:u,body:p},request:{body:JSON.stringify(l)},response:{id:c.id,timestamp:new Date(1e3*c.created_at),modelId:c.model},providerMetadata:{openai:{responseId:c.id,cachedPromptTokens:null!=(a=null==(s=c.usage.input_tokens_details)?void 0:s.cached_tokens)?a:null,reasoningTokens:null!=(o=null==(i=c.usage.output_tokens_details)?void 0:i.reasoning_tokens)?o:null}},warnings:d}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:s}=await nT({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:nZ,successfulResponseHandler:nN(sa),abortSignal:e.abortSignal,fetch:this.config.fetch}),a=this,i="unknown",o=NaN,l=NaN,d=null,u=null,c=null,p={},m=!1;return{stream:s.pipeThrough(new TransformStream({transform(e,t){var r,n,s,h,f,g,y,v;if(!e.success){i="error",t.enqueue({type:"error",error:e.error});return}let b=e.value;if("response.output_item.added"===b.type)"function_call"===b.item.type&&(p[b.output_index]={toolName:b.item.name,toolCallId:b.item.call_id},t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,argsTextDelta:b.item.arguments}));else if("response.function_call_arguments.delta"===b.type){let e=p[b.output_index];null!=e&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:b.delta})}else"response.created"===b.type?(c=b.response.id,t.enqueue({type:"response-metadata",id:b.response.id,timestamp:new Date(1e3*b.response.created_at),modelId:b.response.model})):"response.output_text.delta"===b.type?t.enqueue({type:"text-delta",textDelta:b.delta}):"response.reasoning_summary_text.delta"===b.type?t.enqueue({type:"reasoning",textDelta:b.delta}):"response.output_item.done"===b.type&&"function_call"===b.item.type?(p[b.output_index]=void 0,m=!0,t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,args:b.item.arguments})):"response.completed"===b.type||"response.incomplete"===b.type?(i=n9({finishReason:null==(r=b.response.incomplete_details)?void 0:r.reason,hasToolCalls:m}),o=b.response.usage.input_tokens,l=b.response.usage.output_tokens,d=null!=(s=null==(n=b.response.usage.input_tokens_details)?void 0:n.cached_tokens)?s:d,u=null!=(f=null==(h=b.response.usage.output_tokens_details)?void 0:h.reasoning_tokens)?f:u):"response.output_text.annotation.added"===b.type&&t.enqueue({type:"source",source:{sourceType:"url",id:null!=(v=null==(y=(g=a.config).generateId)?void 0:y.call(g))?v:ng(),url:b.annotation.url,title:b.annotation.title}})},flush(e){e.enqueue({type:"finish",finishReason:i,usage:{promptTokens:o,completionTokens:l},...(null!=d||null!=u)&&{providerMetadata:{openai:{responseId:c,cachedPromptTokens:d,reasoningTokens:u}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:n},request:{body:JSON.stringify(t)},warnings:r}}},n5=rS.object({input_tokens:rS.number(),input_tokens_details:rS.object({cached_tokens:rS.number().nullish()}).nullish(),output_tokens:rS.number(),output_tokens_details:rS.object({reasoning_tokens:rS.number().nullish()}).nullish()}),n6=rS.object({type:rS.literal("response.output_text.delta"),delta:rS.string()}),n7=rS.object({type:rS.enum(["response.completed","response.incomplete"]),response:rS.object({incomplete_details:rS.object({reason:rS.string()}).nullish(),usage:n5})}),n8=rS.object({type:rS.literal("response.created"),response:rS.object({id:rS.string(),created_at:rS.number(),model:rS.string()})}),se=rS.object({type:rS.literal("response.output_item.done"),output_index:rS.number(),item:rS.discriminatedUnion("type",[rS.object({type:rS.literal("message")}),rS.object({type:rS.literal("function_call"),id:rS.string(),call_id:rS.string(),name:rS.string(),arguments:rS.string(),status:rS.literal("completed")})])}),st=rS.object({type:rS.literal("response.function_call_arguments.delta"),item_id:rS.string(),output_index:rS.number(),delta:rS.string()}),sr=rS.object({type:rS.literal("response.output_item.added"),output_index:rS.number(),item:rS.discriminatedUnion("type",[rS.object({type:rS.literal("message")}),rS.object({type:rS.literal("function_call"),id:rS.string(),call_id:rS.string(),name:rS.string(),arguments:rS.string()})])}),sn=rS.object({type:rS.literal("response.output_text.annotation.added"),annotation:rS.object({type:rS.literal("url_citation"),url:rS.string(),title:rS.string()})}),ss=rS.object({type:rS.literal("response.reasoning_summary_text.delta"),item_id:rS.string(),output_index:rS.number(),summary_index:rS.number(),delta:rS.string()}),sa=rS.union([n6,n7,n8,se,st,sr,sn,ss,rS.object({type:rS.string()}).passthrough()]),si=rS.object({metadata:rS.any().nullish(),parallelToolCalls:rS.boolean().nullish(),previousResponseId:rS.string().nullish(),store:rS.boolean().nullish(),user:rS.string().nullish(),reasoningEffort:rS.string().nullish(),strictSchemas:rS.boolean().nullish(),instructions:rS.string().nullish(),reasoningSummary:rS.string().nullish()}),so=rS.object({}),sl={webSearchPreview:function({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:so}}},sd=rS.object({instructions:rS.string().nullish(),speed:rS.number().min(.25).max(4).default(1).nullish()}),su=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:s,providerOptions:a}){let i=[],o=nw({provider:"openai",providerOptions:a,schema:sd}),l={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:s};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?l.response_format=r:i.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),o){let e={};for(let t in e){let r=e[t];void 0!==r&&(l[t]=r)}}return{requestBody:l,warnings:i}}async doGenerate(e){var t,r,n;let s=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{requestBody:a,warnings:i}=this.getArgs(e),{value:o,responseHeaders:l,rawValue:d}=await nT({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:nh(this.config.headers(),e.headers),body:a,failedResponseHandler:nZ,successfulResponseHandler:nS(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:o,warnings:i,request:{body:JSON.stringify(a)},response:{timestamp:s,modelId:this.modelId,headers:l,body:d}}}};function sc(e={}){var t,r,n,s;let a=null!=(t=null==(s=e.baseURL)?void 0:s.replace(/\/$/,""))?t:"https://api.openai.com/v1",i=null!=(r=e.compatibility)?r:"compatible",o=null!=(n=e.name)?n:"openai",l=()=>({Authorization:`Bearer ${function({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new r7({message:`${n} API key must be a string.`});if("undefined"==typeof process)throw new r7({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new r7({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new r7({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),d=(t,r={})=>new nD(t,r,{provider:`${o}.chat`,url:({path:e})=>`${a}${e}`,headers:l,compatibility:i,fetch:e.fetch}),u=(t,r={})=>new nB(t,r,{provider:`${o}.completion`,url:({path:e})=>`${a}${e}`,headers:l,compatibility:i,fetch:e.fetch}),c=(t,r={})=>new nK(t,r,{provider:`${o}.embedding`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),p=(t,r={})=>new nX(t,r,{provider:`${o}.image`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),m=t=>new n2(t,{provider:`${o}.transcription`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),h=t=>new su(t,{provider:`${o}.speech`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),f=(e,t)=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?u(e,t):d(e,t)},g=function(e,t){return f(e,t)};return g.languageModel=f,g.chat=d,g.completion=u,g.responses=t=>new n3(t,{provider:`${o}.responses`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),g.embedding=c,g.textEmbedding=c,g.textEmbeddingModel=c,g.image=p,g.imageModel=p,g.transcription=m,g.transcriptionModel=m,g.speech=h,g.speechModel=h,g.tools=sl,g}sc({compatibility:"strict"});var sp=Object.defineProperty,sm=Object.getOwnPropertyNames,sh=(e,t)=>function(){return e&&(t=(0,e[sm(e)[0]])(e=0)),t},sf=sh({"src/lib/utils.ts"(){}});function sg({className:e,variant:t,size:r,asChild:n=!1,...s}){return(0,T.jsx)(n?e$:"button",{"data-slot":"button",className:function(...e){return eA(E(e))}(k({variant:t,size:r,className:e})),...s})}((e,t)=>{for(var r in t)sp(e,r,{get:t[r],enumerable:!0})})({},{Button:()=>sg,buttonVariants:()=>k});var sy=sh({"components/ui/button.tsx"(){sf(),k=eL("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}})}});function sv(e){return{...e,props:e.props?{...e.props}:void 0,bindings:e.bindings?{...e.bindings}:void 0,events:e.events?{...e.events}:void 0,children:e.children?.map(e=>sv(e))}}function sb(e,t){if(e){if(e.id===t)return e;if(e.children)for(let r of e.children){let e=sb(r,t);if(e)return e}}}function s_(e,t,r){let n=sv(e),s=function e(t,r,n=[]){let s=[...n,t];if(t.id===r)return s;if(t.children)for(let n of t.children){let t=e(n,r,s);if(t)return t}return null}(n,t);if(!s)return n;let a=r(s[s.length-1]);if(1===s.length)return a;let i=s[s.length-2],o={...i,children:i.children?.map(e=>e.id===t?a:e)};return 2===s.length?o:s_(n,i.id,()=>o)}function sx(e,t){var r,n,s,a,i,o,l;switch(t.type){case"UI_EVENT":return{...e,loading:!0,history:[...e.history,t.event]};case"AI_RESPONSE":return{...e,layout:t.node,loading:!1,error:void 0};case"PARTIAL_UPDATE":if(!e.layout||"root"===t.nodeId||t.nodeId===e.layout.id)return{...e,layout:t.node,loading:!1,error:void 0};return{...e,layout:(r=e.layout,n=t.nodeId,s=t.node,s_(r,n,()=>s)),loading:!1,error:void 0};case"ADD_NODE":if(!e.layout)return e;return{...e,layout:(a=e.layout,i=t.parentId,o=t.node,l=t.index,s_(a,i,e=>{let t=e.children?[...e.children]:[];return void 0!==l&&l>=0&&l<=t.length?t.splice(l,0,o):t.push(o),{...e,children:t}})),loading:!1,error:void 0};case"REMOVE_NODE":if(!e.layout)return e;return{...e,layout:function(e,t){let r=sv(e);if(r.id===t)throw Error("Cannot remove root node");let n=function e(t,r){if(t.children){if(t.children.some(e=>e.id===r))return t;for(let n of t.children){let t=e(n,r);if(t)return t}}return null}(r,t);return n?s_(r,n.id,e=>({...e,children:e.children?.filter(e=>e.id!==t)})):r}(e.layout,t.nodeId),loading:!1,error:void 0};case"LOADING":return{...e,loading:t.isLoading};case"ERROR":return{...e,error:t.message,loading:!1};default:return e}}var sw={loading:!0,history:[]},sk=((s=sk||{}).FULL_REFRESH="FULL_REFRESH",s.UPDATE_NODE="UPDATE_NODE",s.ADD_DROPDOWN="ADD_DROPDOWN",s.SHOW_DETAIL="SHOW_DETAIL",s.HIDE_DETAIL="HIDE_DETAIL",s.TOGGLE_STATE="TOGGLE_STATE",s.UPDATE_FORM="UPDATE_FORM",s.NAVIGATE="NAVIGATE",s),sT=class{constructor(){this.routes={}}registerRoute(e,t){this.routes[e]||(this.routes[e]=[]),this.routes[e].push(t)}resolveRoute(e,t,r,n,s,a){let i;let o=this.routes[e.type]||[];if(0===o.length)return{actionType:"FULL_REFRESH",targetNodeId:r?.id||"root",plannerInput:{schema:t,goal:s,history:[e],userContext:a},prompt:`Generate a new UI for the goal: "${s}". The user just triggered: ${e.type} on node ${e.nodeId}`};let l=r?sb(r,e.nodeId):void 0,d=l?.events?.[e.type];d&&(i=o.find(e=>e.actionType.toString()===d.action)),i||(i=o[0]);let u=d?.target||i.targetNodeId||e.nodeId,c={};if(i.contextKeys&&i.contextKeys.forEach(e=>{c[e]=n[e]}),l&&(c.sourceNode=l),r){let e=sb(r,u);e&&(c.targetNode=e)}e.payload&&(c.eventPayload=e.payload),d?.payload&&Object.entries(d.payload).forEach(([e,t])=>{c[e]=t});let p={schema:t,goal:s,history:[e],userContext:{...a,...c}},m=this.processTemplate(i.promptTemplate,{goal:s,eventType:e.type,nodeId:e.nodeId,targetNodeId:u,actionType:i.actionType,...c});return{actionType:i.actionType,targetNodeId:u,plannerInput:p,prompt:m}}processTemplate(e,t){return e.replace(/\${(\w+)}/g,(e,r)=>void 0!==t[r]?String(t[r]):`\${${r}}`)}},sE=rS.enum(["CLICK","CHANGE","SUBMIT","MOUSEOVER","MOUSEOUT","FOCUS","BLUR"]),sj=rS.object({type:sE,nodeId:rS.string(),timestamp:rS.number().nullable(),payload:rS.record(rS.unknown()).nullable()});rS.enum(["AI_RESPONSE","ERROR"]);var sN=rS.object({}).catchall(rS.string()),sI=rS.object({id:rS.string(),node_type:rS.string(),props:sN.nullable(),bindings:sN.nullable(),events:rS.record(rS.string(),rS.object({action:rS.string(),target:rS.string(),payload:sN.nullable()})).nullable(),children:rS.array(rS.any()).nullable()}),sS=sI.omit({children:!0}),sC=sI.extend({children:rS.array(sS).nullable()}),sO=sI.extend({children:rS.array(sC).nullable()}),sA=sI.extend({children:rS.array(sO).nullable()});rS.discriminatedUnion("type",[rS.object({type:rS.literal("UI_EVENT"),event:sj}),rS.object({type:rS.literal("AI_RESPONSE"),node:sA}),rS.object({type:rS.literal("PARTIAL_UPDATE"),nodeId:rS.string(),node:sA}),rS.object({type:rS.literal("ADD_NODE"),parentId:rS.string(),node:sA,index:rS.number().nullable()}),rS.object({type:rS.literal("REMOVE_NODE"),nodeId:rS.string()}),rS.object({type:rS.literal("ERROR"),message:rS.string()}),rS.object({type:rS.literal("LOADING"),isLoading:rS.boolean()})]),rS.object({layout:sA.nullable(),loading:rS.boolean(),history:rS.array(sj),error:rS.string().nullable()}),rS.object({schema:rS.record(rS.unknown()),goal:rS.string(),history:rS.array(sj).nullable(),userContext:rS.record(rS.unknown()).nullable()});var sR=((a=sR||{}).PLAN_START="PLAN_START",a.PLAN_PROMPT_CREATED="PLAN_PROMPT_CREATED",a.PLAN_RESPONSE_CHUNK="PLAN_RESPONSE_CHUNK",a.PLAN_COMPLETE="PLAN_COMPLETE",a.PLAN_ERROR="PLAN_ERROR",a.BINDING_RESOLUTION_START="BINDING_RESOLUTION_START",a.BINDING_RESOLUTION_COMPLETE="BINDING_RESOLUTION_COMPLETE",a.DATA_FETCH_START="DATA_FETCH_START",a.DATA_FETCH_COMPLETE="DATA_FETCH_COMPLETE",a.RENDER_START="RENDER_START",a.RENDER_COMPLETE="RENDER_COMPLETE",a.PREFETCH_START="PREFETCH_START",a.PREFETCH_COMPLETE="PREFETCH_COMPLETE",a),sP=new class{constructor(){this.listeners={}}on(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e]?.push(t),()=>{this.listeners[e]&&(this.listeners[e]=this.listeners[e]?.filter(e=>e!==t))}}async emit(e){for(let t of this.listeners[e.type]||[])await t(e)}};function s$(e,t){return{type:e,timestamp:Date.now(),...t}}var sZ={MOCK_PLANNER:"1"},sM=sc({compatibility:"strict"});function sD(e,t,r){let{schema:n,goal:s,history:a,userContext:i}=e,o=Object.entries(n).map(([e,t])=>`Table: ${e}
Schema: ${JSON.stringify(t)}`).join("\n\n"),l=a?.slice(-5).map(e=>`Event: ${e.type} on node ${e.nodeId}${e.payload?` with payload ${JSON.stringify(e.payload)}`:""}`).join("\n")||"No recent events",d=i?`

User Context:
${JSON.stringify(i)}`:"";return r||`
You are an expert UI generator. 
Create a user interface that achieves the following goal: "${s}"

Available data schema:
${o}

Recent user interactions:
${l}${d}

Generate a complete UI specification in JSON format that matches the following TypeScript type:
type UISpecNode = {
  id: string;
  node_type: string;
  props?: Record<string, unknown>;
  bindings?: Record<string, unknown>;
  events?: Record<string, { action: string; target: string; payload?: Record<string, unknown>; }};
  children?: UISpecNode[];
};

UI Guidance:
1. Create a focused interface that directly addresses the goal
2. Use appropriate UI patterns (lists, forms, details, etc.)
3. Include navigation between related views when needed
4. Keep the interface simple and intuitive
5. Bind to schema data where appropriate
6. Provide event handlers for user interactions - make sure to always include both action and target properties

Respond ONLY with the JSON UI specification and no other text.
  `}function sL(e,t,r){return{id:t||"root",node_type:"Container",props:{className:"p-4"},children:[{id:"header-1",node_type:"Header",props:{title:"Task Management Dashboard",className:"mb-6"}},{id:"list-view",node_type:"ListView",props:{selectable:!0},bindings:{items:e.schema.tasks?e.schema.tasks.sampleData||[]:[{id:"1",title:"Example Task 1",status:"pending"},{id:"2",title:"Example Task 2",status:"completed"}],fields:[{key:"id",label:"ID"},{key:"title",label:"Title"},{key:"status",label:"Status"}]},events:{onSelect:{action:"SELECT_ITEM",target:"detail-view",payload:{source:"list-view"}}}}]}}var sU=e=>{let[t,r]=(0,eR.useState)("{}"),[n,s]=(0,eR.useState)(!1),[a,i]=(0,eR.useState)(null);return{append:async e=>{try{s(!0),r("{}")}catch(e){i(e instanceof Error?e:Error(String(e)))}finally{s(!1)}},data:{content:t},isLoading:n,error:a,stop:()=>{}}};rS.enum(["Container","Card","Header","Button","Input","Select","Textarea","Checkbox","RadioGroup","ListView","Detail","Tabs","Dialog","Heading","Text"]);var sz=()=>(0,T.jsx)("div",{className:"w-full h-8 bg-gray-200 animate-pulse rounded"}),sF=({rows:e=3})=>(0,T.jsxs)("div",{className:"w-full space-y-2",children:[(0,T.jsx)("div",{className:"w-full h-10 bg-gray-200 animate-pulse rounded"}),Array.from({length:e}).map((e,t)=>(0,T.jsx)("div",{className:"w-full h-12 bg-gray-200 animate-pulse rounded"},t))]}),sV=()=>(0,T.jsxs)("div",{className:"w-full p-4 space-y-4 border rounded-lg",children:[(0,T.jsx)("div",{className:"w-3/4 h-6 bg-gray-200 animate-pulse rounded"}),(0,T.jsxs)("div",{className:"space-y-2",children:[(0,T.jsx)("div",{className:"w-full h-4 bg-gray-200 animate-pulse rounded"}),(0,T.jsx)("div",{className:"w-full h-4 bg-gray-200 animate-pulse rounded"}),(0,T.jsx)("div",{className:"w-5/6 h-4 bg-gray-200 animate-pulse rounded"})]})]}),sq=e=>(0,T.jsx)("div",{className:`w-full ${e.className||""}`,style:e.style,children:e.children}),sB=({title:e,className:t})=>(0,T.jsx)("header",{className:`py-4 px-6 border-b mb-4 ${t||""}`,children:(0,T.jsx)("h1",{className:"text-xl font-semibold",children:e})}),sG=({onClick:e,children:t,variant:r="default"})=>(0,T.jsx)("button",{className:`px-4 py-2 rounded font-medium ${"default"===r?"bg-blue-600 text-white":"outline"===r?"border border-gray-300 text-gray-700":"bg-red-600 text-white"}`,onClick:e,children:t}),sH=({items:e=[],fields:t=[],onSelect:r,selectable:n})=>(0,T.jsx)("div",{className:"w-full border rounded-lg overflow-hidden",children:(0,T.jsxs)("table",{className:"w-full",children:[(0,T.jsx)("thead",{className:"bg-gray-50",children:(0,T.jsx)("tr",{children:t.map(e=>(0,T.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.label},e.key))})}),(0,T.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,s)=>(0,T.jsx)("tr",{onClick:()=>n&&r&&r(e),className:n?"cursor-pointer hover:bg-gray-50":"",children:t.map(t=>(0,T.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e[t.key]},t.key))},s))})]})}),sK=({data:e,fields:t=[],title:r,visible:n=!0,onBack:s})=>n?(0,T.jsxs)("div",{className:"w-full border rounded-lg p-6 space-y-4",children:[(0,T.jsxs)("div",{className:"flex justify-between items-center",children:[r&&(0,T.jsx)("h2",{className:"text-lg font-medium",children:r}),s&&(0,T.jsx)(sG,{variant:"outline",onClick:s,children:"Back"})]}),(0,T.jsx)("div",{className:"space-y-4",children:t.map(t=>"heading"===t.type?(0,T.jsx)("h3",{className:"text-xl font-semibold",children:e?.[t.key]},t.key):"content"===t.type?(0,T.jsx)("div",{className:"text-sm text-gray-700",children:e?.[t.key]},t.key):(0,T.jsxs)("div",{className:"flex flex-col",children:[t.label&&(0,T.jsx)("span",{className:"text-xs text-gray-500",children:t.label}),(0,T.jsx)("span",{className:"text-sm",children:e?.[t.key]})]},t.key))})]}):null,sW=(e,t)=>{let r=e.events?.[t];if(r)return()=>{console.log(`Event triggered: ${t} on node ${e.id}`,{action:r.action,target:r.target,payload:r.payload})}},sJ={Container:e=>(0,T.jsx)(sq,{style:e.props?.style,className:e.props?.className,children:e.children?.map(e=>sY(e))}),Header:e=>(0,T.jsx)(sB,{title:e.props?.title||"Untitled",className:e.props?.className}),Button:e=>(0,T.jsx)(sG,{variant:e.props?.variant,onClick:sW(e,"onClick"),children:e.props?.label||"Button"}),ListView:e=>(0,T.jsx)(sH,{items:e.bindings?.items||[],fields:e.bindings?.fields||[],selectable:e.props?.selectable,onSelect:sW(e,"onSelect")}),Detail:e=>(0,T.jsx)(sK,{data:e.bindings?.data,fields:e.bindings?.fields||[],title:e.props?.title,visible:e.props?.visible!==!1,onBack:sW(e,"onBack")})};function sY(e){let t=sJ[e.node_type];return t?t(e):(0,T.jsxs)("div",{className:"p-2 border border-red-300 rounded",children:[(0,T.jsxs)("p",{className:"text-sm text-red-500",children:["Unsupported component: ",e.node_type]}),e.children?.map(e=>sY(e))]})}var sX=new Map;async function sQ(e,t="shadcn"){let r;let n=Date.now(),s=e.id,a=sX.get(s);if(a&&n-a.timestamp<5e3)return a.element;if(await sP.emit(s$("RENDER_START",{layout:e})),"shadcn"===t||console.warn(`Unsupported adapter: ${t}, falling back to shadcn`),r=sY(e),await sP.emit(s$("RENDER_COMPLETE",{layout:e,renderTimeMs:Date.now()-n})),sX.set(s,{element:r,timestamp:n}),sX.size>10){let e=[...sX.entries()].sort(([,e],[,t])=>e.timestamp-t.timestamp)[0][0];sX.delete(e)}return r}var s0=new Map,s1=new Map;function s2(e,t,r){let n={...e},s=t.split("."),a=n;for(let e=0;e<s.length-1;e++){let t=s[e];t in a&&null!==a[t]&&void 0!==a[t]||(a[t]={}),"object"!=typeof(a=a[t])&&(a={})}return a[s[s.length-1]]=r,n}async function s4(e,t){var r;let n=Date.now(),s=(r=e.id,`${r}:${JSON.stringify(t)}`),a=s0.get(s),i=s1.get(s);if(a&&i&&n-i<2e3)return a;await sP.emit(s$("BINDING_RESOLUTION_START",{layout:e}));let o={...e,props:e.props?{...e.props}:void 0,events:e.events?{...e.events}:void 0};if(e.bindings)for(let[r,n]of Object.entries(e.bindings)){let e=function e(t,r){if("string"==typeof t)return function(e,t){let r=t.split("."),n=e;for(let e of r){if(null==n||"object"!=typeof n)return;n=n[e]}return n}(r,t);if(Array.isArray(t))return t.map(t=>e(t,r));if(null!==t&&"object"==typeof t){let n={};for(let[s,a]of Object.entries(t))n[s]=e(a,r);return n}return t}(n,t);void 0!==e&&(o.props||(o.props={}),o.props[r]=e)}if(e.children&&(o.children=await Promise.all(e.children.map(e=>s4(e,t)))),await sP.emit(s$("BINDING_RESOLUTION_COMPLETE",{originalLayout:e,resolvedLayout:o})),s0.set(s,o),s1.set(s,n),s0.size>50){let e=[...s1.entries()];if(e.length>0){e.sort((e,t)=>e[1]-t[1]);let t=e[0][0];s0.delete(t),s1.delete(t)}}return o}var s9=class{constructor(){this.hooks={}}register(e,t){return"all"===e?(this.hooks.all||(this.hooks.all=[]),this.hooks.all.push(t),()=>{this.hooks.all&&(this.hooks.all=this.hooks.all.filter(e=>e!==t))}):(e.forEach(e=>{this.hooks[e]||(this.hooks[e]=[]),this.hooks[e]?.push(t)}),()=>{e.forEach(e=>{this.hooks[e]&&(this.hooks[e]=this.hooks[e]?.filter(e=>e!==t))})})}async processEvent(e){let t=!1,r=!1,n={originalEvent:e,preventDefault:()=>{t=!0},stopPropagation:()=>{r=!0},isDefaultPrevented:()=>t,isPropagationStopped:()=>r};if(this.hooks.all){for(let e of this.hooks.all)if(await e(n),r)break}if(!r&&this.hooks[e.type]){for(let t of this.hooks[e.type]||[])if(await t(n),r)break}return!t}},s3=({schema:e,goal:t,componentAdapter:r="shadcn",userContext:n,onEvent:s,eventHooks:a,systemEventHooks:i,debugMode:o=!1,mockMode:l=!0,databaseConfig:d,planningConfig:u,integration:c={},scope:p={},enablePartialUpdates:m=!1})=>{let[h,f]=(0,eR.useState)(null),[g,y]=(0,eR.useState)({}),[v,b]=(0,eR.useState)(!0);(0,eR.useEffect)(()=>{"shadcn"===r&&b(function(){try{return sy(),!0}catch(e){return!1}}())},[r]),(0,eR.useEffect)(()=>{let e=[];if(i&&Object.entries(i).forEach(([t,r])=>{r&&r.forEach(r=>{let n=sP.on(t,r);e.push(n)})}),o){let t=e=>{console.debug("[AutoUI Debug] System Event:",e)};Object.values(sR).filter(e=>"RENDER_START"!==e&&"BINDING_RESOLUTION_START"!==e).forEach(r=>{let n=sP.on(r,t);e.push(n)})}return()=>{e.forEach(e=>e())}},[i,o]),(0,eR.useEffect)(()=>{(async()=>{let t={};h?t=await h.initializeDataContext():e&&Object.entries(e).forEach(([e,r])=>{t[e]={schema:r,data:r?.sampleData||[],selected:null}}),n&&(t.user=n),y(t)})()},[e,h,n]);let{state:_,handleEvent:x}=function({schema:e,goal:t,userContext:r,mockMode:n=!1,planningConfig:s={},router:a=function(){let e=new sT;return e.registerRoute("CLICK",{actionType:"FULL_REFRESH",targetNodeId:"root",promptTemplate:'Generate a new UI for the goal: "${goal}". The user just clicked on node ${nodeId}'}),e.registerRoute("CLICK",{actionType:"SHOW_DETAIL",targetNodeId:"${targetNodeId}",promptTemplate:"Update the UI to show details for the selected item. Current node: ${nodeId}, Target node: ${targetNodeId}",contextKeys:["selected"]}),e.registerRoute("CLICK",{actionType:"NAVIGATE",targetNodeId:"root",promptTemplate:"Navigate to a new view based on the user clicking ${nodeId}. Current goal: ${goal}"}),e.registerRoute("CLICK",{actionType:"ADD_DROPDOWN",targetNodeId:"${targetNodeId}",promptTemplate:"Add a dropdown menu to node ${targetNodeId} with options relevant to the clicked element ${nodeId}"}),e.registerRoute("CLICK",{actionType:"TOGGLE_STATE",targetNodeId:"${nodeId}",promptTemplate:"Toggle the state of node ${nodeId} (e.g., expanded/collapsed, selected/unselected)"}),e.registerRoute("CHANGE",{actionType:"UPDATE_FORM",targetNodeId:"${targetNodeId}",promptTemplate:"Update the form based on the user changing the value of ${nodeId}"}),e}(),dataContext:i={},enablePartialUpdates:o=!1}){let[l,d]=(0,eR.useReducer)(sx,sw),{append:u,data:c,isLoading:p,error:m,stop:h}=sU(),f=(0,eR.useCallback)(s=>{if(d({type:"UI_EVENT",event:s}),h(),o){let o=a.resolveRoute(s,e,l.layout,i,t,r);if(o){if(console.log("Resolved route:",o),sP.emit(s$("PLAN_START",{plannerInput:o.plannerInput})),n){let e=sL(o.plannerInput,o.targetNodeId,o.prompt);switch(o.actionType){case"FULL_REFRESH":d({type:"AI_RESPONSE",node:e});break;case"UPDATE_NODE":case"SHOW_DETAIL":case"HIDE_DETAIL":case"TOGGLE_STATE":case"ADD_DROPDOWN":case"UPDATE_FORM":case"NAVIGATE":d({type:"PARTIAL_UPDATE",nodeId:o.targetNodeId,node:e})}}else{let e=o.prompt;sP.emit(s$("PLAN_PROMPT_CREATED",{prompt:e})),u({content:e,role:"user"}),sessionStorage.setItem("currentRoute",JSON.stringify({actionType:o.actionType,targetNodeId:o.targetNodeId}))}return}}let c={schema:e,goal:t,history:[...l.history,s],userContext:r};n?d({type:"AI_RESPONSE",node:sL(c)}):u({content:sD(c),role:"user"})},[u,t,e,l.history,l.layout,h,r,a,n,i,o]);return{state:l,dispatch:d,handleEvent:f}}({schema:e,goal:t,userContext:n,mockMode:l,planningConfig:u,router:void 0,dataContext:g,enablePartialUpdates:m}),w=(0,eR.useRef)(new s9);(0,eR.useEffect)(()=>{if(!a)return;let e=[];if(a.all){let t=w.current.register("all",async e=>{for(let t of a.all||[])if(await t(e),e.isPropagationStopped())break});e.push(t)}return Object.entries(a).forEach(([t,r])=>{if("all"===t||!r)return;let n=w.current.register([t],async e=>{for(let t of r)if(await t(e),e.isPropagationStopped())break});e.push(n)}),()=>{e.forEach(e=>e())}},[a]),(0,eR.useCallback)(async e=>{let t=await w.current.processEvent(e);if(s&&s(e),!t){console.info("Event processing was prevented by hooks",e);return}let r=(e,t)=>{if(e){if(e.id===t)return e;if(e.children)for(let n of e.children){let e=r(n,t);if(e)return e}}},n=r(_.layout,e.nodeId);if(!n){console.warn(`Node not found for event: ${e.nodeId}`),x(e);return}let a=n.events?.[e.type];if(!a){console.warn(`No event config found for ${e.type} on node ${e.nodeId}`),x(e);return}y(function(e,t,r,n={},s){let a={...n};switch(e){case"VIEW_DETAIL":r?.item&&(a=s2(a,"selected",r.item));break;case"HIDE_DETAIL":a=s2(a,"selected",null);break;case"SET_VALUE":r?.path&&"value"in r&&(a=s2(a,String(r.path),r.value));break;default:console.warn(`Unknown action: ${e}`)}return a}(a.action,a.target,{...a.payload,...e.payload},g,_.layout)),x(e)},[g,x,s,_.layout]);let[k,E]=(0,eR.useState)(void 0),[j,N]=(0,eR.useState)(null),I=(0,eR.useCallback)(async()=>{if(_.layout)try{let e=await s4(_.layout,g);E(e)}catch(e){console.error("Error resolving bindings:",e)}else E(void 0)},[_.layout,g]);(0,eR.useEffect)(()=>{I()},[I]);let S=(0,eR.useCallback)(async()=>{if(k)try{let e=await sQ(k,r);N(e)}catch(e){console.error("Error rendering node:",e)}else N(null)},[k,r]);return((0,eR.useEffect)(()=>{S()},[S]),v)?(0,T.jsxs)("div",{className:`autoui-root ${c.className||""}`,id:c.id,"data-mode":c.mode,"data-scope":p?.type||"full",children:[_.loading||!k?(0,T.jsx)("div",{className:"autoui-loading",children:_.layout?function e(t,r="shadcn"){if(!t)return(0,T.jsx)(sz,{});switch(t.type){case"ListView":return(0,T.jsx)(sF,{rows:3});case"Detail":return(0,T.jsx)(sV,{});case"Container":return(0,T.jsx)("div",{className:"space-y-4",children:t.children?.map((t,n)=>T.jsx("div",{children:e(t,r)},n))});default:return(0,T.jsx)(sz,{})}}(_.layout,r):(0,T.jsxs)("div",{className:"autoui-shimmer-container",children:[(0,T.jsx)("div",{className:"autoui-shimmer-header"}),(0,T.jsx)("div",{className:"autoui-shimmer-content"})]})}):(0,T.jsx)("div",{className:"autoui-content",children:j}),_.error&&(0,T.jsxs)("div",{className:"autoui-error",children:[(0,T.jsx)("p",{className:"autoui-error-title",children:"Error generating UI"}),(0,T.jsx)("p",{className:"autoui-error-message",children:_.error})]})]}):(0,T.jsxs)("div",{className:"autoui-error p-4 border border-red-300 bg-red-50 text-red-700 rounded",children:[(0,T.jsx)("p",{className:"font-medium",children:"Component Library Not Found"}),(0,T.jsx)("p",{className:"text-sm whitespace-pre-line",children:`Missing required shadcn components. Please run:
> npm run setup-shadcn`})]})};let s5={tasks:{tableName:"tasks",columns:{id:{type:"uuid",primaryKey:!0},title:{type:"text",notNull:!0},description:{type:"text"},status:{type:"text",notNull:!0,default:"pending"},priority:{type:"text",notNull:!0,default:"medium"},dueDate:{type:"date"},createdAt:{type:"timestamp",notNull:!0,default:"now()"},updatedAt:{type:"timestamp"}},sampleData:[{id:"1",title:"Setup development environment",description:"Install Node.js, TypeScript, and VS Code",status:"completed",priority:"high",dueDate:"2023-12-31",createdAt:"2023-12-01T10:00:00Z",updatedAt:"2023-12-01T15:30:00Z"},{id:"2",title:"Create project structure",description:"Set up initial files and directories",status:"completed",priority:"high",dueDate:"2023-12-31",createdAt:"2023-12-02T09:15:00Z",updatedAt:"2023-12-02T11:45:00Z"},{id:"3",title:"Implement core features",description:"Work on the main functionality",status:"in_progress",priority:"medium",dueDate:"2024-01-15",createdAt:"2023-12-05T08:30:00Z",updatedAt:"2023-12-10T14:20:00Z"},{id:"4",title:"Write documentation",description:"Create README and API docs",status:"pending",priority:"low",dueDate:"2024-01-31",createdAt:"2023-12-15T16:45:00Z",updatedAt:null}]},users:{tableName:"users",columns:{id:{type:"uuid",primaryKey:!0},name:{type:"text",notNull:!0},email:{type:"text",notNull:!0,unique:!0},role:{type:"text",notNull:!0,default:"user"},createdAt:{type:"timestamp",notNull:!0,default:"now()"}},sampleData:[{id:"1",name:"John Doe",email:"john@example.com",role:"admin",createdAt:"2023-10-01T00:00:00Z"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"user",createdAt:"2023-10-15T08:30:00Z"},{id:"3",name:"Bob Johnson",email:"bob@example.com",role:"user",createdAt:"2023-11-05T14:45:00Z"}]}};function s6(){return(0,T.jsxs)("main",{className:"container mx-auto p-4",children:[T.jsx("h1",{className:"text-2xl font-bold mb-6",children:"AutoUI React Example"}),T.jsx("div",{className:"border rounded-lg p-4 bg-white dark:bg-gray-800 dark:border-gray-700 min-h-[500px]",children:T.jsx(s3,{schema:s5,goal:"Create a task management dashboard with list view and ability to view task details",mockMode:!1,debugMode:!1,componentAdapter:"shadcn",userContext:{id:"1",name:"John Doe",role:"admin"},onEvent:()=>{},eventHooks:{},systemEventHooks:{},databaseConfig:{},planningConfig:{}})})]})}},1481:e=>{"use strict";let t="undefined"!=typeof Buffer,r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function s(e,s,i){null==i&&null!==s&&"object"==typeof s&&(i=s,s=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let o=JSON.parse(e,s);if(null===o||"object"!=typeof o)return o;let l=i&&i.protoAction||"error",d=i&&i.constructorAction||"error";if("ignore"===l&&"ignore"===d)return o;if("ignore"!==l&&"ignore"!==d){if(!1===r.test(e)&&!1===n.test(e))return o}else if("ignore"!==l&&"ignore"===d){if(!1===r.test(e))return o}else if(!1===n.test(e))return o;return a(o,{protoAction:l,constructorAction:d,safe:i&&i.safe})}function a(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let e=s;for(let a of(s=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(a,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete a.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(a,"constructor")&&Object.prototype.hasOwnProperty.call(a.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete a.constructor}for(let e in a){let t=a[e];t&&"object"==typeof t&&s.push(t)}}}return e}function i(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=i,e.exports.default=i,e.exports.parse=i,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=a},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var n=r(9510),s=r(5317),a=r.n(s);r(5023);let i={title:"AutoUI React Example",description:"Example of using AutoUI React to generate UIs with LLMs"};function o({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:a().className,children:e})})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(8570).createProxy)(String.raw`/Users/oblet/Documents/GitHub/autoui-react/examples/basic-demo/src/app/page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[975],()=>r(3833));module.exports=n})();